"use strict";var e=require("@nivo/tooltip"),r=require("react/jsx-runtime"),a=require("react"),n=require("@nivo/core"),i=require("@nivo/arcs"),o=require("@nivo/legends"),t=require("@nivo/polar-axes"),l=require("d3-scale"),s=require("d3-shape"),d=require("@nivo/colors"),u=require("@nivo/scales");function c(){return c=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var a=arguments[r];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},c.apply(this,arguments)}var g={maxValue:"auto",layers:["grid","tracks","bars","labels","legends"],startAngle:0,endAngle:270,innerRadius:.3,padding:.2,padAngle:0,cornerRadius:0,enableTracks:!0,tracksColor:"rgba(0, 0, 0, .15)",enableRadialGrid:!0,enableCircularGrid:!0,radialAxisStart:{},radialAxisEnd:null,circularAxisInner:null,circularAxisOuter:{},colors:{scheme:"nivo"},borderWidth:0,borderColor:{from:"color",modifiers:[["darker",1]]},enableLabels:!1,label:"formattedValue",labelsSkipAngle:10,labelsRadiusOffset:.5,labelsTextColor:{theme:"labels.text.fill"},isInteractive:!0,tooltip:function(a){var n=a.bar;return r.jsx(e.BasicTooltip,{enableChip:!0,id:r.jsxs("span",{children:[n.category," - ",n.groupId]}),value:n.formattedValue,color:n.color})},legends:[],defs:[],fill:[],animate:!0,motionConfig:"gentle",transitionMode:"centerRadius",renderWrapper:!0},v=c({},g),b=function(e){var r=e.data,i=e.maxValue,o=void 0===i?v.maxValue:i,t=e.valueFormat,c=e.startAngle,b=void 0===c?g.startAngle:c,p=e.endAngle,f=void 0===p?g.endAngle:p,m=e.innerRadiusRatio,h=void 0===m?g.innerRadius:m,x=e.padding,A=void 0===x?g.padding:x,R=e.padAngle,M=void 0===R?g.padAngle:R,C=e.cornerRadius,k=void 0===C?g.cornerRadius:C,y=e.width,j=e.height,L=e.colors,S=void 0===L?g.colors:L,G=e.tracksColor,I=void 0===G?g.tracksColor:G,T=a.useMemo((function(){return[y/2,j/2]}),[y,j]),W=Math.min.apply(Math,T),E=W*Math.min(h,1),O=d.useOrdinalColorScale(S,"category"),V=a.useMemo((function(){var e={serieIds:[],categories:[],groups:[],maxValue:0};return r.forEach((function(r){e.serieIds.push(r.id);var a=0;r.data.forEach((function(r){e.categories.includes(r.x)||e.categories.push(r.x),a+=r.y})),e.groups.push({id:r.id,total:a,data:r.data})})),e.maxValue="auto"===o?Math.max.apply(Math,e.groups.map((function(e){return e.total}))):o,e}),[r,o]),q=V.serieIds,w=V.categories,B=V.groups,D=V.maxValue,F=a.useMemo((function(){return u.castLinearScale(l.scaleLinear().domain([0,D]).range([b,f]))}),[D,b,f]),P=a.useMemo((function(){return u.castBandScale(l.scaleBand().domain(q).range([E,W]).padding(A))}),[q,W,E,A]),H=a.useMemo((function(){return s.arc().startAngle((function(e){return e.startAngle})).endAngle((function(e){return e.endAngle})).innerRadius((function(e){return e.innerRadius})).outerRadius((function(e){return e.outerRadius})).cornerRadius(k).padAngle(n.degreesToRadians(M))}),[k,M]),K=n.useValueFormatter(t),z=a.useMemo((function(){var e=[];return B.forEach((function(r){var a=0,i=P(r.id),o=i+P.bandwidth();r.data.forEach((function(t){var l=a+t.y,s={id:r.id+"."+t.x,data:t,groupId:r.id,category:t.x,value:t.y,formattedValue:K(t.y),color:"",stackedValue:l,arc:{startAngle:n.degreesToRadians(F(a)),endAngle:n.degreesToRadians(F(l)),innerRadius:i,outerRadius:o}};s.color=O(s),a+=t.y,e.push(s)}))})),e}),[B,P,F,O,K]),J=n.degreesToRadians(b),N=n.degreesToRadians(f),Q=a.useMemo((function(){return u.getScaleTicks(P).map((function(e){var r=P(e);return{id:e,color:I,arc:{startAngle:J,endAngle:N,innerRadius:r,outerRadius:r+P.bandwidth()}}}))}),[P,J,N,I]),U=a.useMemo((function(){return w.map((function(e){var r=z.find((function(r){return r.category===e})),a=r?r.color:void 0;return{id:e,label:e,color:a}}))}),[w,z]),X=a.useMemo((function(){return{center:T,outerRadius:W,innerRadius:E,bars:z,arcGenerator:H,radiusScale:P,valueScale:F}}),[T,W,E,z,H,P,F]);return{center:T,outerRadius:W,innerRadius:E,bars:z,arcGenerator:H,radiusScale:P,valueScale:F,tracks:Q,legendData:U,customLayerProps:X}},p=function(n){var o=n.center,t=n.bars,l=n.borderWidth,s=n.borderColor,d=n.arcGenerator,u=n.isInteractive,c=n.tooltip,g=n.onClick,v=n.onMouseEnter,b=n.onMouseMove,p=n.onMouseLeave,f=n.transitionMode,m=e.useTooltip(),h=m.showTooltipFromEvent,x=m.hideTooltip,A=a.useCallback((function(e,r){null==g||g(e,r)}),[g]),R=a.useCallback((function(e,r){h(a.createElement(c,{bar:e}),r),null==v||v(e,r)}),[h,c,v]),M=a.useCallback((function(e,r){h(a.createElement(c,{bar:e}),r),null==b||b(e,r)}),[h,c,b]),C=a.useCallback((function(e,r){x(),null==p||p(e,r)}),[x,p]);return r.jsx(i.ArcsLayer,{center:o,data:t,arcGenerator:d,borderWidth:l,borderColor:s,transitionMode:f,onClick:u?A:void 0,onMouseEnter:u?R:void 0,onMouseMove:u?M:void 0,onMouseLeave:u?C:void 0})},f=function(e){var a=e.center,n=e.tracks,o=e.arcGenerator,t=e.transitionMode;return r.jsx(i.ArcsLayer,{center:a,data:n,arcGenerator:o,borderWidth:0,borderColor:"none",transitionMode:t})},m=["isInteractive","animate","motionConfig","theme","renderWrapper"],h=function(e){var l=e.data,s=e.maxValue,d=void 0===s?v.maxValue:s,u=e.valueFormat,g=e.startAngle,m=void 0===g?v.startAngle:g,h=e.endAngle,x=void 0===h?v.endAngle:h,A=e.innerRadius,R=void 0===A?v.innerRadius:A,M=e.padding,C=void 0===M?v.padding:M,k=e.padAngle,y=void 0===k?v.padAngle:k,j=e.cornerRadius,L=void 0===j?v.cornerRadius:j,S=e.width,G=e.height,I=e.margin,T=e.layers,W=void 0===T?v.layers:T,E=e.enableTracks,O=void 0===E?v.enableTracks:E,V=e.tracksColor,q=void 0===V?v.tracksColor:V,w=e.enableRadialGrid,B=void 0===w?v.enableRadialGrid:w,D=e.enableCircularGrid,F=void 0===D?v.enableCircularGrid:D,P=e.radialAxisStart,H=void 0===P?v.radialAxisStart:P,K=e.radialAxisEnd,z=void 0===K?v.radialAxisEnd:K,J=e.circularAxisInner,N=void 0===J?v.circularAxisInner:J,Q=e.circularAxisOuter,U=void 0===Q?v.circularAxisOuter:Q,X=e.colors,Y=void 0===X?v.colors:X,Z=e.defs,$=void 0===Z?v.defs:Z,_=e.fill,ee=void 0===_?v.fill:_,re=e.borderWidth,ae=void 0===re?v.borderWidth:re,ne=e.borderColor,ie=void 0===ne?v.borderColor:ne,oe=e.enableLabels,te=void 0===oe?v.enableLabels:oe,le=e.label,se=void 0===le?v.label:le,de=e.labelsSkipAngle,ue=void 0===de?v.labelsSkipAngle:de,ce=e.labelsRadiusOffset,ge=void 0===ce?v.labelsRadiusOffset:ce,ve=e.labelsTextColor,be=void 0===ve?v.labelsTextColor:ve,pe=e.isInteractive,fe=void 0===pe?v.isInteractive:pe,me=e.tooltip,he=void 0===me?v.tooltip:me,xe=e.onClick,Ae=e.onMouseEnter,Re=e.onMouseMove,Me=e.onMouseLeave,Ce=e.transitionMode,ke=void 0===Ce?v.transitionMode:Ce,ye=e.legends,je=void 0===ye?v.legends:ye,Le=e.role,Se=e.ariaLabel,Ge=e.ariaLabelledBy,Ie=e.ariaDescribedBy,Te=n.useDimensions(S,G,I),We=Te.margin,Ee=Te.innerWidth,Oe=Te.innerHeight,Ve=Te.outerWidth,qe=Te.outerHeight,we=n.clampArc(m,x),Be=we[0],De=we[1],Fe=b({data:l,maxValue:d,valueFormat:u,startAngle:Be,endAngle:De,innerRadiusRatio:R,padding:C,padAngle:y,cornerRadius:L,width:Ee,height:Oe,colors:Y,tracksColor:q}),Pe=Fe.center,He=Fe.innerRadius,Ke=Fe.outerRadius,ze=Fe.bars,Je=Fe.arcGenerator,Ne=Fe.radiusScale,Qe=Fe.valueScale,Ue=Fe.tracks,Xe=Fe.legendData,Ye=Fe.customLayerProps,Ze={grid:null,tracks:null,bars:null,labels:null,legends:null};W.includes("grid")&&(Ze.grid=r.jsxs(a.Fragment,{children:[r.jsx(t.PolarGrid,{center:Pe,enableRadialGrid:B,enableCircularGrid:F,angleScale:Qe,radiusScale:Ne,startAngle:Be,endAngle:De}),H&&r.jsx(t.RadialAxis,c({type:"start",center:Pe,angle:Math.min(Be,De),scale:Ne},H)),z&&r.jsx(t.RadialAxis,c({type:"end",center:Pe,angle:Math.max(Be,De),scale:Ne},z)),N&&r.jsx(t.CircularAxis,c({type:"inner",center:Pe,radius:He,startAngle:Be,endAngle:De,scale:Qe},N)),U&&r.jsx(t.CircularAxis,c({type:"outer",center:Pe,radius:Ke,startAngle:Be,endAngle:De,scale:Qe},U))]},"grid")),W.includes("tracks")&&O&&(Ze.tracks=r.jsx(f,{center:Pe,tracks:Ue,arcGenerator:Je,transitionMode:ke},"tracks")),W.includes("bars")&&(Ze.bars=r.jsx(p,{center:Pe,bars:ze,borderWidth:ae,borderColor:ie,arcGenerator:Je,isInteractive:fe,tooltip:he,onClick:xe,onMouseEnter:Ae,onMouseMove:Re,onMouseLeave:Me,transitionMode:ke},"bars")),W.includes("labels")&&te&&(Ze.labels=r.jsx(i.ArcLabelsLayer,{center:Pe,data:ze,label:se,radiusOffset:ge,skipAngle:ue,textColor:be,transitionMode:ke},"labels")),W.includes("legends")&&je.length>0&&(Ze.legends=r.jsx(a.Fragment,{children:je.map((function(e,a){return r.jsx(o.BoxLegendSvg,c({},e,{containerWidth:Ee,containerHeight:Oe,data:Xe}),a)}))},"legends"));var $e=n.bindDefs($,ze,ee,{dataKey:"data",targetKey:"fill"});return r.jsx(n.SvgWrapper,{width:Ve,height:qe,margin:We,defs:$e,role:Le,ariaLabel:Se,ariaLabelledBy:Ge,ariaDescribedBy:Ie,children:W.map((function(e,n){var i;return"function"==typeof e?r.jsx(a.Fragment,{children:a.createElement(e,Ye)},n):null!=(i=null==Ze?void 0:Ze[e])?i:null}))})},x=function(e){var a=e.isInteractive,i=void 0===a?v.isInteractive:a,o=e.animate,t=void 0===o?v.animate:o,l=e.motionConfig,s=void 0===l?v.motionConfig:l,d=e.theme,u=e.renderWrapper,g=function(e,r){if(null==e)return{};var a,n,i={},o=Object.keys(e);for(n=0;n<o.length;n++)a=o[n],r.indexOf(a)>=0||(i[a]=e[a]);return i}(e,m);return r.jsx(n.Container,{animate:t,isInteractive:i,motionConfig:s,renderWrapper:u,theme:d,children:r.jsx(h,c({isInteractive:i},g))})};exports.RadialBar=x,exports.ResponsiveRadialBar=function(e){return r.jsx(n.ResponsiveWrapper,{children:function(a){var n=a.width,i=a.height;return r.jsx(x,c({width:n,height:i},e))}})},exports.commonDefaultProps=g,exports.svgDefaultProps=v;
//# sourceMappingURL=nivo-radial-bar.cjs.js.map
