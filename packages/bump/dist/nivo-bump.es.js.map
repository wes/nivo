{"version":3,"file":"nivo-bump.es.js","sources":["../src/bump/compute.ts","../src/bump/hooks.ts","../src/bump/Point.tsx","../src/bump/defaults.ts","../src/bump/LineTooltip.tsx","../src/bump/Line.tsx","../src/bump/LinesLabels.tsx","../src/bump/Points.tsx","../src/bump/Bump.tsx","../src/bump/ResponsiveBump.tsx","../src/area-bump/hooks.ts","../src/area-bump/compute.ts","../src/area-bump/Area.tsx","../src/area-bump/AreasLabels.tsx","../src/area-bump/defaults.ts","../src/area-bump/AreaTooltip.tsx","../src/area-bump/AreaBump.tsx","../src/area-bump/ResponsiveAreaBump.tsx"],"sourcesContent":["import { scalePoint } from 'd3-scale'\nimport { castPointScale } from '@nivo/scales'\nimport {\n    BumpDataProps,\n    BumpDatum,\n    BumpComputedSerie,\n    BumpSeriePoint,\n    BumpSerieExtraProps,\n} from './types'\n\nexport const computeSeries = <Datum extends BumpDatum, ExtraProps extends BumpSerieExtraProps>({\n    width,\n    height,\n    data,\n    xPadding,\n    xOuterPadding,\n    yOuterPadding,\n}: {\n    width: number\n    height: number\n    data: BumpDataProps<Datum, ExtraProps>['data']\n    xPadding: number\n    xOuterPadding: number\n    yOuterPadding: number\n}) => {\n    const xValuesSet = new Set<Datum['x']>()\n    const yValuesSet = new Set<number>()\n\n    data.forEach(serie => {\n        serie.data.forEach(datum => {\n            xValuesSet.add(datum.x)\n            if (datum.y !== null) {\n                yValuesSet.add(datum.y)\n            }\n        })\n    })\n\n    const xValues: Datum['x'][] = Array.from(xValuesSet)\n    const xScale = castPointScale<Datum['x']>(\n        scalePoint<Datum['x']>().domain(xValues).range([0, width]).padding(xOuterPadding)\n    )\n\n    const yValues: number[] = Array.from(yValuesSet).sort((a, b) => a - b)\n    const yScale = castPointScale<number>(\n        scalePoint<number>().domain(yValues).range([0, height]).padding(yOuterPadding)\n    )\n\n    const linePointPadding = xScale.step() * Math.min(xPadding * 0.5, 0.5)\n\n    const series: Omit<BumpComputedSerie<Datum, ExtraProps>, 'color' | 'opacity' | 'lineWidth'>[] =\n        data.map(rawSerie => {\n            const serie: Omit<\n                BumpComputedSerie<Datum, ExtraProps>,\n                'color' | 'opacity' | 'lineWidth'\n            > = {\n                id: rawSerie.id,\n                data: rawSerie,\n                points: [],\n                linePoints: [],\n            }\n\n            rawSerie.data.forEach((datum, i) => {\n                let x = null\n                let y = null\n\n                if (datum.y !== null) {\n                    x = xScale(datum.x)!\n                    y = yScale(datum.y)!\n                }\n\n                const point: BumpSeriePoint<Datum, ExtraProps> = {\n                    id: `${rawSerie.id}.${i}`,\n                    serie: rawSerie,\n                    data: datum,\n                    x: x as number,\n                    y,\n                }\n                serie.points.push(point)\n\n                // only add pre transition point if the datum is not empty\n                if (point.x !== null) {\n                    if (i === 0) {\n                        serie.linePoints.push([0, point.y])\n                    } else {\n                        serie.linePoints.push([point.x - linePointPadding, point.y])\n                    }\n                }\n\n                serie.linePoints.push([point.x, point.y])\n\n                // only add post transition point if the datum is not empty\n                if (x !== null) {\n                    if (i === rawSerie.data.length - 1 && x) {\n                        serie.linePoints.push([width, point.y])\n                    } else {\n                        serie.linePoints.push([point.x + linePointPadding, point.y])\n                    }\n                }\n\n                // remove points having null coordinates\n                serie.points = serie.points.filter(point => point.x !== null)\n            })\n\n            return serie\n        })\n\n    return {\n        series,\n        xScale,\n        yScale,\n    }\n}\n","import { createElement, useMemo, useCallback, useState, MouseEvent } from 'react'\nimport { line as d3Line, curveBasis, curveLinear } from 'd3-shape'\nimport { useTheme } from '@nivo/core'\nimport { useOrdinalColorScale, useInheritedColor, InheritedColorConfig } from '@nivo/colors'\nimport { useTooltip } from '@nivo/tooltip'\nimport {\n    BumpInterpolation,\n    BumpCommonProps,\n    BumpDatum,\n    DefaultBumpDatum,\n    BumpDataProps,\n    BumpComputedSerie,\n    BumpPoint,\n    BumpLabel,\n    BumpLabelData,\n    BumpSerieExtraProps,\n} from './types'\nimport { computeSeries } from './compute'\n\nconst useLineGenerator = (interpolation: BumpInterpolation) =>\n    useMemo(\n        () =>\n            d3Line<[number, number | null]>()\n                .curve(interpolation === 'smooth' ? curveBasis : curveLinear)\n                .defined(d => d[0] !== null && d[1] !== null),\n\n        [interpolation]\n    )\n\nconst useSerieDerivedProp = <Target, Output extends string | number>(\n    instruction: ((target: Target) => Output) | Output\n): ((target: Target) => Output) =>\n    useMemo(() => {\n        if (typeof instruction === 'function') return instruction\n        return () => instruction\n    }, [instruction])\n\nconst useSerieStyle = <Datum extends BumpDatum, ExtraProps extends BumpSerieExtraProps>({\n    lineWidth,\n    activeLineWidth,\n    inactiveLineWidth,\n    opacity,\n    activeOpacity,\n    inactiveOpacity,\n    isInteractive,\n    activeSerieIds,\n}: {\n    lineWidth: BumpCommonProps<Datum, ExtraProps>['lineWidth']\n    activeLineWidth: BumpCommonProps<Datum, ExtraProps>['activeLineWidth']\n    inactiveLineWidth: BumpCommonProps<Datum, ExtraProps>['inactiveLineWidth']\n    opacity: BumpCommonProps<Datum, ExtraProps>['opacity']\n    activeOpacity: BumpCommonProps<Datum, ExtraProps>['activeOpacity']\n    inactiveOpacity: BumpCommonProps<Datum, ExtraProps>['inactiveOpacity']\n    isInteractive: BumpCommonProps<Datum, ExtraProps>['isInteractive']\n    activeSerieIds: string[]\n}) => {\n    type Serie = Omit<BumpComputedSerie<Datum, ExtraProps>, 'color' | 'opacity' | 'lineWidth'>\n\n    const getLineWidth = useSerieDerivedProp<Serie, number>(lineWidth)\n    const getActiveLineWidth = useSerieDerivedProp<Serie, number>(activeLineWidth)\n    const getInactiveLineWidth = useSerieDerivedProp<Serie, number>(inactiveLineWidth)\n\n    const getOpacity = useSerieDerivedProp<Serie, number>(opacity)\n    const getActiveOpacity = useSerieDerivedProp<Serie, number>(activeOpacity)\n    const getInactiveOpacity = useSerieDerivedProp<Serie, number>(inactiveOpacity)\n\n    const getNormalStyle = useCallback(\n        (serie: Serie) => ({\n            opacity: getOpacity(serie),\n            lineWidth: getLineWidth(serie),\n        }),\n        [getLineWidth, getOpacity]\n    )\n    const getActiveStyle = useCallback(\n        (serie: Serie) => ({\n            opacity: getActiveOpacity(serie),\n            lineWidth: getActiveLineWidth(serie),\n        }),\n        [getActiveLineWidth, getActiveOpacity]\n    )\n    const getInactiveStyle = useCallback(\n        (serie: Serie) => ({\n            opacity: getInactiveOpacity(serie),\n            lineWidth: getInactiveLineWidth(serie),\n        }),\n        [getInactiveLineWidth, getInactiveOpacity]\n    )\n\n    return useCallback(\n        (serie: Serie) => {\n            if (!isInteractive || activeSerieIds.length === 0) return getNormalStyle(serie)\n            if (activeSerieIds.includes(serie.id)) return getActiveStyle(serie)\n            return getInactiveStyle(serie)\n        },\n        [getNormalStyle, getActiveStyle, getInactiveStyle, isInteractive, activeSerieIds]\n    )\n}\n\nconst usePointStyle = <Datum extends BumpDatum, ExtraProps extends BumpSerieExtraProps>({\n    pointSize,\n    activePointSize,\n    inactivePointSize,\n    pointBorderWidth,\n    activePointBorderWidth,\n    inactivePointBorderWidth,\n    isInteractive,\n    activeSerieIds,\n}: {\n    pointSize: BumpCommonProps<Datum, ExtraProps>['pointSize']\n    activePointSize: BumpCommonProps<Datum, ExtraProps>['activePointSize']\n    inactivePointSize: BumpCommonProps<Datum, ExtraProps>['inactivePointSize']\n    pointBorderWidth: BumpCommonProps<Datum, ExtraProps>['pointBorderWidth']\n    activePointBorderWidth: BumpCommonProps<Datum, ExtraProps>['activePointBorderWidth']\n    inactivePointBorderWidth: BumpCommonProps<Datum, ExtraProps>['inactivePointBorderWidth']\n    isInteractive: BumpCommonProps<Datum, ExtraProps>['isInteractive']\n    activeSerieIds: string[]\n}) => {\n    type Point = Omit<BumpPoint<Datum, ExtraProps>, 'size' | 'borderWidth'>\n\n    const getSize = useSerieDerivedProp(pointSize)\n    const getActiveSize = useSerieDerivedProp(activePointSize)\n    const getInactiveSize = useSerieDerivedProp(inactivePointSize)\n\n    const getBorderWidth = useSerieDerivedProp(pointBorderWidth)\n    const getActiveBorderWidth = useSerieDerivedProp(activePointBorderWidth)\n    const getInactiveBorderWidth = useSerieDerivedProp(inactivePointBorderWidth)\n\n    const getNormalStyle = useCallback(\n        (point: Point) => ({\n            size: getSize(point),\n            borderWidth: getBorderWidth(point),\n        }),\n        [getSize, getBorderWidth]\n    )\n    const getActiveStyle = useCallback(\n        (point: Point) => ({\n            size: getActiveSize(point),\n            borderWidth: getActiveBorderWidth(point),\n        }),\n        [getActiveSize, getActiveBorderWidth]\n    )\n    const getInactiveStyle = useCallback(\n        (point: Point) => ({\n            size: getInactiveSize(point),\n            borderWidth: getInactiveBorderWidth(point),\n        }),\n        [getInactiveSize, getInactiveBorderWidth]\n    )\n\n    return useCallback(\n        (point: Point) => {\n            if (!isInteractive || activeSerieIds.length === 0) return getNormalStyle(point)\n            if (activeSerieIds.includes(point.serie.id)) return getActiveStyle(point)\n            return getInactiveStyle(point)\n        },\n        [getNormalStyle, getActiveStyle, getInactiveStyle, isInteractive, activeSerieIds]\n    )\n}\n\nexport const useBump = <\n    Datum extends BumpDatum = DefaultBumpDatum,\n    ExtraProps extends BumpSerieExtraProps = Record<string, never>\n>({\n    width,\n    height,\n    data,\n    interpolation,\n    xPadding,\n    xOuterPadding,\n    yOuterPadding,\n    lineWidth,\n    activeLineWidth,\n    inactiveLineWidth,\n    colors,\n    opacity,\n    activeOpacity,\n    inactiveOpacity,\n    pointSize,\n    activePointSize,\n    inactivePointSize,\n    pointColor,\n    pointBorderWidth,\n    activePointBorderWidth,\n    inactivePointBorderWidth,\n    pointBorderColor,\n    isInteractive,\n    defaultActiveSerieIds,\n}: {\n    width: number\n    height: number\n    data: BumpDataProps<Datum, ExtraProps>['data']\n    interpolation: BumpCommonProps<Datum, ExtraProps>['interpolation']\n    xPadding: BumpCommonProps<Datum, ExtraProps>['xPadding']\n    xOuterPadding: BumpCommonProps<Datum, ExtraProps>['xOuterPadding']\n    yOuterPadding: BumpCommonProps<Datum, ExtraProps>['yOuterPadding']\n    lineWidth: BumpCommonProps<Datum, ExtraProps>['lineWidth']\n    activeLineWidth: BumpCommonProps<Datum, ExtraProps>['activeLineWidth']\n    inactiveLineWidth: BumpCommonProps<Datum, ExtraProps>['inactiveLineWidth']\n    colors: BumpCommonProps<Datum, ExtraProps>['colors']\n    opacity: BumpCommonProps<Datum, ExtraProps>['opacity']\n    activeOpacity: BumpCommonProps<Datum, ExtraProps>['activeOpacity']\n    inactiveOpacity: BumpCommonProps<Datum, ExtraProps>['inactiveOpacity']\n    pointSize: BumpCommonProps<Datum, ExtraProps>['pointSize']\n    activePointSize: BumpCommonProps<Datum, ExtraProps>['activePointSize']\n    inactivePointSize: BumpCommonProps<Datum, ExtraProps>['inactivePointSize']\n    pointColor: BumpCommonProps<Datum, ExtraProps>['pointColor']\n    pointBorderWidth: BumpCommonProps<Datum, ExtraProps>['pointBorderWidth']\n    activePointBorderWidth: BumpCommonProps<Datum, ExtraProps>['activePointBorderWidth']\n    inactivePointBorderWidth: BumpCommonProps<Datum, ExtraProps>['inactivePointBorderWidth']\n    pointBorderColor: BumpCommonProps<Datum, ExtraProps>['pointBorderColor']\n    isInteractive: BumpCommonProps<Datum, ExtraProps>['isInteractive']\n    defaultActiveSerieIds: string[]\n}) => {\n    const [activeSerieIds, setActiveSerieIds] = useState<string[]>(defaultActiveSerieIds)\n\n    const {\n        series: rawSeries,\n        xScale,\n        yScale,\n    } = useMemo(\n        () =>\n            computeSeries<Datum, ExtraProps>({\n                width,\n                height,\n                data,\n                xPadding,\n                xOuterPadding,\n                yOuterPadding,\n            }),\n        [width, height, data, xPadding, xOuterPadding, yOuterPadding]\n    )\n\n    const lineGenerator = useLineGenerator(interpolation)\n\n    const getColor = useOrdinalColorScale(colors, 'id')\n    const getSerieStyle = useSerieStyle<Datum, ExtraProps>({\n        lineWidth,\n        activeLineWidth,\n        inactiveLineWidth,\n        opacity,\n        activeOpacity,\n        inactiveOpacity,\n        isInteractive,\n        activeSerieIds,\n    })\n\n    const series: BumpComputedSerie<Datum, ExtraProps>[] = useMemo(\n        () =>\n            rawSeries.map(serie => ({\n                ...serie,\n                color: getColor(serie.data),\n                ...getSerieStyle(serie),\n            })),\n        [rawSeries, getColor, getSerieStyle]\n    )\n\n    const theme = useTheme()\n    const getPointColor = useInheritedColor(pointColor, theme)\n    const getPointBorderColor = useInheritedColor(pointBorderColor, theme)\n    const getPointStyle = usePointStyle<Datum, ExtraProps>({\n        pointSize,\n        activePointSize,\n        inactivePointSize,\n        pointBorderWidth,\n        activePointBorderWidth,\n        inactivePointBorderWidth,\n        isInteractive,\n        activeSerieIds,\n    })\n    const points: BumpPoint<Datum, ExtraProps>[] = useMemo(() => {\n        const pts: BumpPoint<Datum, ExtraProps>[] = []\n        series.forEach(serie => {\n            serie.points.forEach(rawPoint => {\n                // @ts-ignore\n                const point: BumpPoint<Datum, ExtraProps> = {\n                    ...rawPoint,\n                    serie,\n                    isActive: activeSerieIds.includes(serie.id),\n                    isInactive: activeSerieIds.length > 0 && !activeSerieIds.includes(serie.id),\n                }\n                point.color = getPointColor(point)\n                point.borderColor = getPointBorderColor(point)\n\n                pts.push({\n                    ...point,\n                    ...getPointStyle(point),\n                })\n            })\n        })\n\n        return pts\n    }, [series, getPointColor, getPointBorderColor, getPointStyle, activeSerieIds])\n\n    return {\n        xScale,\n        yScale,\n        series,\n        points,\n        lineGenerator,\n        activeSerieIds,\n        setActiveSerieIds,\n    }\n}\n\nexport const useBumpSerieHandlers = <\n    Datum extends BumpDatum,\n    ExtraProps extends BumpSerieExtraProps\n>({\n    serie,\n    isInteractive,\n    onMouseEnter,\n    onMouseMove,\n    onMouseLeave,\n    onClick,\n    setActiveSerieIds,\n    tooltip,\n}: {\n    serie: BumpComputedSerie<Datum, ExtraProps>\n    isInteractive: BumpCommonProps<Datum, ExtraProps>['isInteractive']\n    onMouseEnter?: BumpCommonProps<Datum, ExtraProps>['onMouseEnter']\n    onMouseMove?: BumpCommonProps<Datum, ExtraProps>['onMouseMove']\n    onMouseLeave?: BumpCommonProps<Datum, ExtraProps>['onMouseLeave']\n    onClick?: BumpCommonProps<Datum, ExtraProps>['onClick']\n    setActiveSerieIds: (serieIds: string[]) => void\n    tooltip: BumpCommonProps<Datum, ExtraProps>['tooltip']\n}) => {\n    const { showTooltipFromEvent, hideTooltip } = useTooltip()\n\n    const handleMouseEnter = useCallback(\n        (event: MouseEvent<SVGPathElement>) => {\n            showTooltipFromEvent(createElement(tooltip, { serie }), event)\n            setActiveSerieIds([serie.id])\n            onMouseEnter && onMouseEnter(serie, event)\n        },\n        [serie, onMouseEnter, showTooltipFromEvent, setActiveSerieIds, tooltip]\n    )\n\n    const handleMouseMove = useCallback(\n        (event: MouseEvent<SVGPathElement>) => {\n            showTooltipFromEvent(createElement(tooltip, { serie }), event)\n            onMouseMove && onMouseMove(serie, event)\n        },\n        [serie, onMouseMove, showTooltipFromEvent, tooltip]\n    )\n\n    const handleMouseLeave = useCallback(\n        (event: MouseEvent<SVGPathElement>) => {\n            hideTooltip()\n            setActiveSerieIds([])\n            onMouseLeave && onMouseLeave(serie, event)\n        },\n        [serie, onMouseLeave, hideTooltip, setActiveSerieIds]\n    )\n\n    const handleClick = useCallback(\n        (event: MouseEvent<SVGPathElement>) => {\n            onClick && onClick(serie, event)\n        },\n        [serie, onClick]\n    )\n\n    return useMemo(\n        () => ({\n            onMouseEnter: isInteractive ? handleMouseEnter : undefined,\n            onMouseMove: isInteractive ? handleMouseMove : undefined,\n            onMouseLeave: isInteractive ? handleMouseLeave : undefined,\n            onClick: isInteractive ? handleClick : undefined,\n        }),\n        [isInteractive, handleMouseEnter, handleMouseMove, handleMouseLeave, handleClick]\n    )\n}\n\nexport const useBumpSeriesLabels = <\n    Datum extends BumpDatum,\n    ExtraProps extends BumpSerieExtraProps\n>({\n    series,\n    position,\n    padding,\n    color,\n    getLabel,\n}: {\n    series: BumpComputedSerie<Datum, ExtraProps>[]\n    position: 'start' | 'end'\n    padding: number\n    color: InheritedColorConfig<BumpComputedSerie<Datum, ExtraProps>>\n    getLabel: Exclude<BumpLabel<Datum, ExtraProps>, false>\n}) => {\n    const theme = useTheme()\n    const getColor = useInheritedColor(color, theme)\n\n    return useMemo(() => {\n        let textAnchor: 'start' | 'end'\n        let signedPadding: number\n        if (position === 'start') {\n            textAnchor = 'end'\n            signedPadding = padding * -1\n        } else {\n            textAnchor = 'start'\n            signedPadding = padding\n        }\n\n        const labels: BumpLabelData<Datum, ExtraProps>[] = []\n        series.forEach(serie => {\n            let label = serie.id\n            if (typeof getLabel === 'function') {\n                label = getLabel(serie.data)\n            }\n\n            const point =\n                position === 'start'\n                    ? serie.linePoints[0]\n                    : serie.linePoints[serie.linePoints.length - 1]\n\n            // exclude labels for series having missing data at the beginning/end\n            if (point[0] === null || point[1] === null) {\n                return\n            }\n\n            labels.push({\n                id: serie.id,\n                label,\n                x: point[0] + signedPadding,\n                y: point[1],\n                color: getColor(serie),\n                opacity: serie.opacity,\n                serie,\n                textAnchor,\n            })\n        })\n\n        return labels\n    }, [series, position, padding, getColor, getLabel])\n}\n","import { SVGAttributes } from 'react'\nimport { useSpring, animated, to } from '@react-spring/web'\nimport { useMotionConfig } from '@nivo/core'\nimport { BumpDatum, BumpPoint, BumpSerieExtraProps } from './types'\n\nconst pointStyle: SVGAttributes<SVGCircleElement>['style'] = { pointerEvents: 'none' }\n\ninterface PointProps<Datum extends BumpDatum, ExtraProps extends BumpSerieExtraProps> {\n    point: BumpPoint<Datum, ExtraProps>\n}\n\nexport const Point = <Datum extends BumpDatum, ExtraProps extends BumpSerieExtraProps>({\n    point,\n}: PointProps<Datum, ExtraProps>) => {\n    const { animate, config: springConfig } = useMotionConfig()\n\n    const animatedProps = useSpring<{\n        x: number\n        y: number\n        radius: number\n        color: string\n        borderWidth: number\n    }>({\n        x: point.x,\n        y: point.y,\n        radius: point.size / 2,\n        color: point.color,\n        borderWidth: point.borderWidth,\n        config: springConfig,\n        immediate: !animate,\n    })\n\n    return (\n        <animated.circle\n            data-testid={`point.${point.serie.id}.${point.data.x}`}\n            cx={animatedProps.x}\n            cy={animatedProps.y}\n            r={to(animatedProps.radius, v => Math.max(v, 0))}\n            fill={animatedProps.color}\n            strokeWidth={animatedProps.borderWidth}\n            stroke={point.borderColor}\n            style={pointStyle}\n        />\n    )\n}\n","import { MotionProps } from '@nivo/core'\nimport { LineTooltip } from './LineTooltip'\nimport { Point } from './Point'\nimport { BumpCommonProps, BumpPointComponent, DefaultBumpDatum } from './types'\n\nconst commonDefaultProps: Omit<\n    BumpCommonProps<DefaultBumpDatum, Record<string, unknown>>,\n    | 'onMouseEnter'\n    | 'onMouseMove'\n    | 'onMouseLeave'\n    | 'onClick'\n    | 'margin'\n    | 'theme'\n    | 'axisRight'\n    | 'renderWrapper'\n> = {\n    layers: ['grid', 'axes', 'labels', 'lines', 'points'],\n\n    interpolation: 'smooth',\n    xPadding: 0.6,\n    xOuterPadding: 0.5,\n    yOuterPadding: 0.5,\n\n    colors: { scheme: 'nivo' },\n    lineWidth: 2,\n    activeLineWidth: 4,\n    inactiveLineWidth: 1,\n    opacity: 1,\n    activeOpacity: 1,\n    inactiveOpacity: 0.3,\n\n    startLabel: false,\n    startLabelPadding: 16,\n    startLabelTextColor: { from: 'color' },\n    endLabel: true,\n    endLabelPadding: 16,\n    endLabelTextColor: { from: 'color' },\n\n    pointSize: 6,\n    activePointSize: 8,\n    inactivePointSize: 4,\n    pointColor: { from: 'serie.color' },\n    pointBorderWidth: 0,\n    activePointBorderWidth: 0,\n    inactivePointBorderWidth: 0,\n    pointBorderColor: { from: 'serie.color', modifiers: [['darker', 1.4]] },\n\n    enableGridX: true,\n    enableGridY: true,\n    axisTop: {},\n    axisBottom: {},\n    axisLeft: {},\n\n    isInteractive: true,\n    defaultActiveSerieIds: [],\n    tooltip: LineTooltip,\n\n    role: 'img',\n}\n\nexport const bumpSvgDefaultProps: typeof commonDefaultProps & {\n    pointComponent: BumpPointComponent<DefaultBumpDatum, Record<string, unknown>>\n    animate: boolean\n    motionConfig: MotionProps['motionConfig']\n} = {\n    ...commonDefaultProps,\n    pointComponent: Point,\n    animate: true,\n    motionConfig: 'gentle',\n}\n","import { BasicTooltip } from '@nivo/tooltip'\nimport { BumpComputedSerie, BumpDatum, BumpSerieExtraProps } from './types'\n\ninterface LineTooltipProps<Datum extends BumpDatum, ExtraProps extends BumpSerieExtraProps> {\n    serie: BumpComputedSerie<Datum, ExtraProps>\n}\n\nexport const LineTooltip = <Datum extends BumpDatum, ExtraProps extends BumpSerieExtraProps>({\n    serie,\n}: LineTooltipProps<Datum, ExtraProps>) => (\n    <BasicTooltip\n        data-testid={`tooltip.${serie.data.id}`}\n        id={serie.data.id}\n        enableChip={true}\n        color={serie.color}\n    />\n)\n","import { useSpring, animated } from '@react-spring/web'\nimport { Line as D3Line } from 'd3-shape'\nimport { useAnimatedPath, useMotionConfig } from '@nivo/core'\nimport { BumpCommonProps, BumpComputedSerie, BumpDatum, BumpSerieExtraProps } from './types'\nimport { useBumpSerieHandlers } from './hooks'\n\ninterface LineProps<Datum extends BumpDatum, ExtraProps extends BumpSerieExtraProps> {\n    serie: BumpComputedSerie<Datum, ExtraProps>\n    lineGenerator: D3Line<[number, number | null]>\n    yStep: number\n    isInteractive: BumpCommonProps<Datum, ExtraProps>['isInteractive']\n    onMouseEnter?: BumpCommonProps<Datum, ExtraProps>['onMouseEnter']\n    onMouseMove?: BumpCommonProps<Datum, ExtraProps>['onMouseMove']\n    onMouseLeave?: BumpCommonProps<Datum, ExtraProps>['onMouseLeave']\n    onClick?: BumpCommonProps<Datum, ExtraProps>['onClick']\n    setActiveSerieIds: (serieIds: string[]) => void\n    tooltip: BumpCommonProps<Datum, ExtraProps>['tooltip']\n}\n\nexport const Line = <Datum extends BumpDatum, ExtraProps extends BumpSerieExtraProps>({\n    serie,\n    lineGenerator,\n    yStep,\n    isInteractive,\n    onMouseEnter,\n    onMouseMove,\n    onMouseLeave,\n    onClick,\n    setActiveSerieIds,\n    tooltip,\n}: LineProps<Datum, ExtraProps>) => {\n    const handlers = useBumpSerieHandlers<Datum, ExtraProps>({\n        serie,\n        isInteractive,\n        onMouseEnter,\n        onMouseMove,\n        onMouseLeave,\n        onClick,\n        setActiveSerieIds,\n        tooltip,\n    })\n\n    const { animate, config: springConfig } = useMotionConfig()\n\n    const linePath = lineGenerator(serie.linePoints) || ''\n\n    const animatedPath = useAnimatedPath(linePath)\n    const animatedProps = useSpring<{\n        color: string\n        opacity: number\n        lineWidth: number\n    }>({\n        color: serie.color,\n        opacity: serie.opacity,\n        lineWidth: serie.lineWidth,\n        config: springConfig,\n        immediate: !animate,\n    })\n\n    return (\n        <>\n            <animated.path\n                data-testid={`line.${serie.id}`}\n                fill=\"none\"\n                d={animatedPath}\n                stroke={animatedProps.color}\n                strokeWidth={animatedProps.lineWidth}\n                strokeLinecap=\"round\"\n                strokeOpacity={animatedProps.opacity}\n                style={{ pointerEvents: 'none' }}\n            />\n            {isInteractive && (\n                <path\n                    data-testid={`line.${serie.id}.interactive`}\n                    fill=\"none\"\n                    stroke=\"red\"\n                    strokeOpacity={0}\n                    strokeWidth={yStep}\n                    d={linePath}\n                    strokeLinecap=\"butt\"\n                    onMouseEnter={handlers.onMouseEnter}\n                    onMouseMove={handlers.onMouseMove}\n                    onMouseLeave={handlers.onMouseLeave}\n                    onClick={handlers.onClick}\n                />\n            )}\n        </>\n    )\n}\n","import { useSprings, animated } from '@react-spring/web'\nimport { useTheme, useMotionConfig } from '@nivo/core'\nimport { InheritedColorConfig } from '@nivo/colors'\nimport { BumpComputedSerie, BumpDatum, BumpLabel, BumpSerieExtraProps } from './types'\nimport { useBumpSeriesLabels } from './hooks'\n\ninterface LineLabelsProps<Datum extends BumpDatum, ExtraProps extends BumpSerieExtraProps> {\n    series: BumpComputedSerie<Datum, ExtraProps>[]\n    getLabel: Exclude<BumpLabel<Datum, ExtraProps>, false>\n    position: 'start' | 'end'\n    padding: number\n    color: InheritedColorConfig<BumpComputedSerie<Datum, ExtraProps>>\n}\n\nexport const LinesLabels = <Datum extends BumpDatum, ExtraProps extends BumpSerieExtraProps>({\n    series,\n    getLabel,\n    position,\n    padding,\n    color,\n}: LineLabelsProps<Datum, ExtraProps>) => {\n    const theme = useTheme()\n    const { animate, config: springConfig } = useMotionConfig()\n\n    const labels = useBumpSeriesLabels<Datum, ExtraProps>({\n        series,\n        getLabel,\n        position,\n        padding,\n        color,\n    })\n\n    const springs = useSprings<{\n        x: number\n        y: number\n        opacity: number\n    }>(\n        labels.length,\n        labels.map(label => ({\n            x: label.x,\n            y: label.y,\n            opacity: label.opacity,\n            config: springConfig,\n            immediate: !animate,\n        }))\n    )\n\n    return (\n        <>\n            {springs.map((animatedProps, index) => {\n                const label = labels[index]\n\n                return (\n                    <animated.text\n                        data-testid={`label.${position}.${label.serie.id}`}\n                        key={label.id}\n                        x={animatedProps.x}\n                        y={animatedProps.y}\n                        textAnchor={label.textAnchor}\n                        dominantBaseline=\"central\"\n                        opacity={animatedProps.opacity}\n                        style={{\n                            ...theme.labels.text,\n                            fill: label.color,\n                        }}\n                    >\n                        {label.label}\n                    </animated.text>\n                )\n            })}\n        </>\n    )\n}\n","import { createElement } from 'react'\nimport { BumpDatum, BumpPoint, BumpPointComponent, BumpSerieExtraProps } from './types'\n\ninterface PointsProps<Datum extends BumpDatum, ExtraProps extends BumpSerieExtraProps> {\n    points: BumpPoint<Datum, ExtraProps>[]\n    pointComponent: BumpPointComponent<Datum, ExtraProps>\n}\n\nexport const Points = <Datum extends BumpDatum, ExtraProps extends BumpSerieExtraProps>({\n    points,\n    pointComponent,\n}: PointsProps<Datum, ExtraProps>) => (\n    <>\n        {points.map(point =>\n            createElement(pointComponent, {\n                key: point.id,\n                point,\n            })\n        )}\n    </>\n)\n","import { createElement, useMemo, Fragment, ReactNode } from 'react'\nimport { Container, useDimensions, SvgWrapper } from '@nivo/core'\nimport { Grid, Axes } from '@nivo/axes'\nimport {\n    BumpCustomLayerProps,\n    BumpDatum,\n    BumpLayerId,\n    BumpSerieExtraProps,\n    BumpSvgProps,\n    DefaultBumpDatum,\n} from './types'\nimport { useBump } from './hooks'\nimport { bumpSvgDefaultProps } from './defaults'\nimport { Line } from './Line'\nimport { LinesLabels } from './LinesLabels'\nimport { Points } from './Points'\n\ntype InnerBumpProps<Datum extends BumpDatum, ExtraProps extends BumpSerieExtraProps> = Omit<\n    BumpSvgProps<Datum, ExtraProps>,\n    'animate' | 'motionConfig' | 'renderWrapper' | 'theme'\n>\n\nconst InnerBump = <Datum extends BumpDatum, ExtraProps extends BumpSerieExtraProps>({\n    data,\n\n    width,\n    height,\n    margin: partialMargin,\n\n    layers = bumpSvgDefaultProps.layers as NonNullable<BumpSvgProps<Datum, ExtraProps>['layers']>,\n\n    interpolation = bumpSvgDefaultProps.interpolation,\n    xPadding = bumpSvgDefaultProps.xPadding,\n    xOuterPadding = bumpSvgDefaultProps.xOuterPadding,\n    yOuterPadding = bumpSvgDefaultProps.yOuterPadding,\n\n    colors = bumpSvgDefaultProps.colors as NonNullable<BumpSvgProps<Datum, ExtraProps>['colors']>,\n    lineWidth = bumpSvgDefaultProps.lineWidth,\n    activeLineWidth = bumpSvgDefaultProps.activeLineWidth,\n    inactiveLineWidth = bumpSvgDefaultProps.inactiveLineWidth,\n    opacity = bumpSvgDefaultProps.opacity,\n    activeOpacity = bumpSvgDefaultProps.activeOpacity,\n    inactiveOpacity = bumpSvgDefaultProps.inactiveOpacity,\n\n    startLabel = bumpSvgDefaultProps.startLabel as NonNullable<\n        BumpSvgProps<Datum, ExtraProps>['startLabel']\n    >,\n    startLabelPadding = bumpSvgDefaultProps.startLabelPadding,\n    startLabelTextColor = bumpSvgDefaultProps.startLabelTextColor as NonNullable<\n        BumpSvgProps<Datum, ExtraProps>['startLabelTextColor']\n    >,\n    endLabel = bumpSvgDefaultProps.endLabel as NonNullable<\n        BumpSvgProps<Datum, ExtraProps>['endLabel']\n    >,\n    endLabelPadding = bumpSvgDefaultProps.endLabelPadding,\n    endLabelTextColor = bumpSvgDefaultProps.endLabelTextColor as NonNullable<\n        BumpSvgProps<Datum, ExtraProps>['endLabelTextColor']\n    >,\n\n    pointComponent = bumpSvgDefaultProps.pointComponent as NonNullable<\n        BumpSvgProps<Datum, ExtraProps>['pointComponent']\n    >,\n    pointSize = bumpSvgDefaultProps.pointSize,\n    activePointSize = bumpSvgDefaultProps.activePointSize,\n    inactivePointSize = bumpSvgDefaultProps.inactivePointSize,\n    pointColor = bumpSvgDefaultProps.pointColor as NonNullable<\n        BumpSvgProps<Datum, ExtraProps>['pointColor']\n    >,\n    pointBorderWidth = bumpSvgDefaultProps.pointBorderWidth,\n    activePointBorderWidth = bumpSvgDefaultProps.activePointBorderWidth,\n    inactivePointBorderWidth = bumpSvgDefaultProps.inactivePointBorderWidth,\n    pointBorderColor = bumpSvgDefaultProps.pointBorderColor as NonNullable<\n        BumpSvgProps<Datum, ExtraProps>['pointBorderColor']\n    >,\n\n    enableGridX = bumpSvgDefaultProps.enableGridX,\n    enableGridY = bumpSvgDefaultProps.enableGridY,\n    axisTop = bumpSvgDefaultProps.axisTop,\n    axisRight,\n    axisBottom = bumpSvgDefaultProps.axisBottom,\n    axisLeft = bumpSvgDefaultProps.axisLeft,\n\n    isInteractive = bumpSvgDefaultProps.isInteractive,\n    defaultActiveSerieIds = bumpSvgDefaultProps.defaultActiveSerieIds,\n    onMouseEnter,\n    onMouseMove,\n    onMouseLeave,\n    onClick,\n    tooltip = bumpSvgDefaultProps.tooltip as NonNullable<\n        BumpSvgProps<Datum, ExtraProps>['tooltip']\n    >,\n    role = bumpSvgDefaultProps.role,\n}: InnerBumpProps<Datum, ExtraProps>) => {\n    const { margin, innerWidth, innerHeight, outerWidth, outerHeight } = useDimensions(\n        width,\n        height,\n        partialMargin\n    )\n\n    const { series, points, xScale, yScale, lineGenerator, activeSerieIds, setActiveSerieIds } =\n        useBump<Datum, ExtraProps>({\n            width: innerWidth,\n            height: innerHeight,\n            data,\n            interpolation,\n            xPadding,\n            xOuterPadding,\n            yOuterPadding,\n            lineWidth,\n            activeLineWidth,\n            inactiveLineWidth,\n            colors,\n            opacity,\n            activeOpacity,\n            inactiveOpacity,\n            pointSize,\n            activePointSize,\n            inactivePointSize,\n            pointColor,\n            pointBorderWidth,\n            activePointBorderWidth,\n            inactivePointBorderWidth,\n            pointBorderColor,\n            isInteractive,\n            defaultActiveSerieIds,\n        })\n\n    const layerById: Record<BumpLayerId, ReactNode> = {\n        grid: null,\n        axes: null,\n        labels: null,\n        lines: null,\n        points: null,\n    }\n\n    if (layers.includes('grid')) {\n        layerById.grid = (\n            <Grid\n                key=\"grid\"\n                width={innerWidth}\n                height={innerHeight}\n                xScale={enableGridX ? xScale : null}\n                yScale={enableGridY ? yScale : null}\n            />\n        )\n    }\n\n    if (layers.includes('axes')) {\n        layerById.axes = (\n            <Axes\n                key=\"axes\"\n                xScale={xScale}\n                yScale={yScale}\n                width={innerWidth}\n                height={innerHeight}\n                top={axisTop}\n                right={axisRight}\n                bottom={axisBottom}\n                left={axisLeft}\n            />\n        )\n    }\n\n    if (layers.includes('lines')) {\n        layerById.lines = (\n            <Fragment key=\"lines\">\n                {series.map(serie => (\n                    <Line<Datum, ExtraProps>\n                        key={serie.id}\n                        serie={serie}\n                        setActiveSerieIds={setActiveSerieIds}\n                        lineGenerator={lineGenerator}\n                        yStep={yScale.step()}\n                        isInteractive={isInteractive}\n                        onMouseEnter={onMouseEnter}\n                        onMouseMove={onMouseMove}\n                        onMouseLeave={onMouseLeave}\n                        onClick={onClick}\n                        tooltip={tooltip}\n                    />\n                ))}\n            </Fragment>\n        )\n    }\n\n    if (layers.includes('points')) {\n        layerById.points = (\n            <Points<Datum, ExtraProps>\n                key=\"points\"\n                pointComponent={pointComponent}\n                points={points}\n            />\n        )\n    }\n\n    if (layers.includes('labels')) {\n        layerById.labels = (\n            <Fragment key=\"legends\">\n                {startLabel !== false && (\n                    <LinesLabels<Datum, ExtraProps>\n                        series={series}\n                        getLabel={startLabel}\n                        position=\"start\"\n                        padding={startLabelPadding}\n                        color={startLabelTextColor}\n                    />\n                )}\n                {endLabel !== false && (\n                    <LinesLabels<Datum, ExtraProps>\n                        series={series}\n                        getLabel={endLabel}\n                        position=\"end\"\n                        padding={endLabelPadding}\n                        color={endLabelTextColor}\n                    />\n                )}\n            </Fragment>\n        )\n    }\n\n    const customLayerProps: BumpCustomLayerProps<Datum, ExtraProps> = useMemo(\n        () => ({\n            innerHeight,\n            innerWidth,\n            lineGenerator,\n            points,\n            series,\n            xScale,\n            yScale,\n            activeSerieIds,\n            setActiveSerieIds,\n        }),\n        [\n            activeSerieIds,\n            setActiveSerieIds,\n            innerHeight,\n            innerWidth,\n            lineGenerator,\n            points,\n            series,\n            xScale,\n            yScale,\n        ]\n    )\n\n    return (\n        <SvgWrapper width={outerWidth} height={outerHeight} margin={margin} role={role}>\n            {layers.map((layer, i) => {\n                if (typeof layer === 'function') {\n                    return <Fragment key={i}>{createElement(layer, customLayerProps)}</Fragment>\n                }\n\n                return layerById?.[layer] ?? null\n            })}\n        </SvgWrapper>\n    )\n}\n\nexport const Bump = <\n    Datum extends BumpDatum = DefaultBumpDatum,\n    ExtraProps extends BumpSerieExtraProps = Record<string, never>\n>({\n    isInteractive = bumpSvgDefaultProps.isInteractive,\n    animate = bumpSvgDefaultProps.animate,\n    motionConfig = bumpSvgDefaultProps.motionConfig,\n    theme,\n    renderWrapper,\n    ...otherProps\n}: BumpSvgProps<Datum, ExtraProps>) => (\n    <Container\n        {...{\n            animate,\n            isInteractive,\n            motionConfig,\n            renderWrapper,\n            theme,\n        }}\n    >\n        <InnerBump<Datum, ExtraProps> isInteractive={isInteractive} {...otherProps} />\n    </Container>\n)\n","import { ResponsiveWrapper } from '@nivo/core'\nimport { BumpDatum, BumpSerieExtraProps, BumpSvgProps, DefaultBumpDatum } from './types'\nimport { Bump } from './Bump'\n\nexport const ResponsiveBump = <\n    Datum extends BumpDatum = DefaultBumpDatum,\n    ExtraProps extends BumpSerieExtraProps = Record<string, never>\n>(\n    props: Omit<BumpSvgProps<Datum, ExtraProps>, 'width' | 'height'>\n) => (\n    <ResponsiveWrapper>\n        {({ width, height }) => (\n            <Bump<Datum, ExtraProps> width={width} height={height} {...props} />\n        )}\n    </ResponsiveWrapper>\n)\n","import { createElement, useMemo, useCallback, useState, MouseEvent } from 'react'\nimport { area as d3Area, curveBasis, curveLinear } from 'd3-shape'\nimport { useTheme } from '@nivo/core'\nimport { useOrdinalColorScale, useInheritedColor, InheritedColorConfig } from '@nivo/colors'\nimport { useTooltip } from '@nivo/tooltip'\nimport { computeSeries } from './compute'\nimport {\n    AreaBumpAreaPoint,\n    AreaBumpCommonProps,\n    AreaBumpComputedSerie,\n    AreaBumpDataProps,\n    AreaBumpDatum,\n    AreaBumpInterpolation,\n    AreaBumpLabel,\n    AreaBumpLabelData,\n    AreaBumpSerieExtraProps,\n    DefaultAreaBumpDatum,\n} from './types'\n\nconst useAreaBumpSeries = <\n    Datum extends AreaBumpDatum,\n    ExtraProps extends AreaBumpSerieExtraProps\n>({\n    data,\n    width,\n    height,\n    align,\n    spacing,\n    xPadding,\n}: {\n    data: AreaBumpDataProps<Datum, ExtraProps>['data']\n    width: number\n    height: number\n    align: AreaBumpCommonProps<Datum, ExtraProps>['align']\n    spacing: AreaBumpCommonProps<Datum, ExtraProps>['spacing']\n    xPadding: AreaBumpCommonProps<Datum, ExtraProps>['xPadding']\n}) =>\n    useMemo(\n        () => computeSeries<Datum, ExtraProps>({ data, width, height, align, spacing, xPadding }),\n        [data, width, height, align, spacing, xPadding]\n    )\n\nconst useAreaGenerator = (interpolation: AreaBumpInterpolation) =>\n    useMemo(\n        () =>\n            d3Area<AreaBumpAreaPoint>()\n                .x(d => d.x)\n                .y0(d => d.y0)\n                .y1(d => d.y1)\n                .curve(interpolation === 'smooth' ? curveBasis : curveLinear),\n        [interpolation]\n    )\n\nconst useSerieDerivedProp = <Target, Output extends string | number>(\n    instruction: ((target: Target) => Output) | Output\n): ((target: Target) => Output) =>\n    useMemo(() => {\n        if (typeof instruction === 'function') return instruction\n        return () => instruction\n    }, [instruction])\n\nconst useSerieStyle = <Datum extends AreaBumpDatum, ExtraProps extends AreaBumpSerieExtraProps>({\n    fillOpacity,\n    activeFillOpacity,\n    inactiveFillOpacity,\n    borderWidth,\n    activeBorderWidth,\n    inactiveBorderWidth,\n    borderColor,\n    borderOpacity,\n    activeBorderOpacity,\n    inactiveBorderOpacity,\n    isInteractive,\n    activeSerieIds,\n}: {\n    fillOpacity: AreaBumpCommonProps<Datum, ExtraProps>['fillOpacity']\n    activeFillOpacity: AreaBumpCommonProps<Datum, ExtraProps>['activeFillOpacity']\n    inactiveFillOpacity: AreaBumpCommonProps<Datum, ExtraProps>['inactiveFillOpacity']\n    borderWidth: AreaBumpCommonProps<Datum, ExtraProps>['borderWidth']\n    activeBorderWidth: AreaBumpCommonProps<Datum, ExtraProps>['activeBorderWidth']\n    inactiveBorderWidth: AreaBumpCommonProps<Datum, ExtraProps>['inactiveBorderWidth']\n    borderColor: AreaBumpCommonProps<Datum, ExtraProps>['borderColor']\n    borderOpacity: AreaBumpCommonProps<Datum, ExtraProps>['borderOpacity']\n    activeBorderOpacity: AreaBumpCommonProps<Datum, ExtraProps>['activeBorderOpacity']\n    inactiveBorderOpacity: AreaBumpCommonProps<Datum, ExtraProps>['inactiveBorderOpacity']\n    isInteractive: AreaBumpCommonProps<Datum, ExtraProps>['isInteractive']\n    activeSerieIds: string[]\n}) => {\n    type Serie = Omit<\n        AreaBumpComputedSerie<Datum, ExtraProps>,\n        'fillOpacity' | 'borderWidth' | 'borderColor' | 'borderOpacity'\n    >\n\n    const getFillOpacity = useSerieDerivedProp<Serie, number>(fillOpacity)\n    const getActiveFillOpacity = useSerieDerivedProp<Serie, number>(activeFillOpacity)\n    const getInactiveFillOpacity = useSerieDerivedProp<Serie, number>(inactiveFillOpacity)\n\n    const getBorderWidth = useSerieDerivedProp<Serie, number>(borderWidth)\n    const getActiveBorderWidth = useSerieDerivedProp<Serie, number>(activeBorderWidth)\n    const getInactiveBorderWidth = useSerieDerivedProp<Serie, number>(inactiveBorderWidth)\n\n    const theme = useTheme()\n    const getBorderColor = useInheritedColor(borderColor, theme)\n\n    const getBorderOpacity = useSerieDerivedProp<Serie, number>(borderOpacity)\n    const getActiveBorderOpacity = useSerieDerivedProp<Serie, number>(activeBorderOpacity)\n    const getInactiveBorderOpacity = useSerieDerivedProp<Serie, number>(inactiveBorderOpacity)\n\n    const getNormalStyle = useCallback(\n        (serie: Serie) => ({\n            fillOpacity: getFillOpacity(serie),\n            borderWidth: getBorderWidth(serie),\n            borderColor: getBorderColor(serie),\n            borderOpacity: getBorderOpacity(serie),\n        }),\n        [getFillOpacity, getBorderWidth, getBorderColor, getBorderOpacity]\n    )\n    const getActiveStyle = useCallback(\n        (serie: Serie) => ({\n            fillOpacity: getActiveFillOpacity(serie),\n            borderWidth: getActiveBorderWidth(serie),\n            borderColor: getBorderColor(serie),\n            borderOpacity: getActiveBorderOpacity(serie),\n        }),\n        [getActiveFillOpacity, getActiveBorderWidth, getBorderColor, getActiveBorderOpacity]\n    )\n    const getInactiveStyle = useCallback(\n        (serie: Serie) => ({\n            fillOpacity: getInactiveFillOpacity(serie),\n            borderWidth: getInactiveBorderWidth(serie),\n            borderColor: getBorderColor(serie),\n            borderOpacity: getInactiveBorderOpacity(serie),\n        }),\n        [getInactiveFillOpacity, getInactiveBorderWidth, getBorderColor, getInactiveBorderOpacity]\n    )\n\n    return useCallback(\n        (serie: Serie) => {\n            if (!isInteractive || activeSerieIds.length === 0) return getNormalStyle(serie)\n            if (activeSerieIds.includes(serie.id)) return getActiveStyle(serie)\n            return getInactiveStyle(serie)\n        },\n        [getNormalStyle, getActiveStyle, getInactiveStyle, isInteractive, activeSerieIds]\n    )\n}\n\nexport const useAreaBump = <\n    Datum extends AreaBumpDatum = DefaultAreaBumpDatum,\n    ExtraProps extends AreaBumpSerieExtraProps = Record<string, unknown>\n>({\n    data,\n    width,\n    height,\n    align,\n    spacing,\n    xPadding,\n    interpolation,\n    colors,\n    fillOpacity,\n    activeFillOpacity,\n    inactiveFillOpacity,\n    borderWidth,\n    activeBorderWidth,\n    inactiveBorderWidth,\n    borderColor,\n    borderOpacity,\n    activeBorderOpacity,\n    inactiveBorderOpacity,\n    isInteractive,\n    defaultActiveSerieIds,\n}: {\n    data: AreaBumpDataProps<Datum, ExtraProps>['data']\n    width: number\n    height: number\n    align: AreaBumpCommonProps<Datum, ExtraProps>['align']\n    spacing: AreaBumpCommonProps<Datum, ExtraProps>['spacing']\n    xPadding: AreaBumpCommonProps<Datum, ExtraProps>['xPadding']\n    interpolation: AreaBumpCommonProps<Datum, ExtraProps>['interpolation']\n    colors: AreaBumpCommonProps<Datum, ExtraProps>['colors']\n    fillOpacity: AreaBumpCommonProps<Datum, ExtraProps>['fillOpacity']\n    activeFillOpacity: AreaBumpCommonProps<Datum, ExtraProps>['activeFillOpacity']\n    inactiveFillOpacity: AreaBumpCommonProps<Datum, ExtraProps>['inactiveFillOpacity']\n    borderWidth: AreaBumpCommonProps<Datum, ExtraProps>['borderWidth']\n    activeBorderWidth: AreaBumpCommonProps<Datum, ExtraProps>['activeBorderWidth']\n    inactiveBorderWidth: AreaBumpCommonProps<Datum, ExtraProps>['inactiveBorderWidth']\n    borderColor: AreaBumpCommonProps<Datum, ExtraProps>['borderColor']\n    borderOpacity: AreaBumpCommonProps<Datum, ExtraProps>['borderOpacity']\n    activeBorderOpacity: AreaBumpCommonProps<Datum, ExtraProps>['activeBorderOpacity']\n    inactiveBorderOpacity: AreaBumpCommonProps<Datum, ExtraProps>['inactiveBorderOpacity']\n    isInteractive: AreaBumpCommonProps<Datum, ExtraProps>['isInteractive']\n    defaultActiveSerieIds: string[]\n}) => {\n    const [activeSerieIds, setActiveSerieIds] = useState<string[]>(defaultActiveSerieIds)\n\n    const {\n        series: rawSeries,\n        xScale,\n        heightScale,\n    } = useAreaBumpSeries<Datum, ExtraProps>({\n        data,\n        width,\n        height,\n        align,\n        spacing,\n        xPadding,\n    })\n\n    const areaGenerator = useAreaGenerator(interpolation)\n\n    const getColor = useOrdinalColorScale(colors, 'id')\n    const getSerieStyle = useSerieStyle<Datum, ExtraProps>({\n        fillOpacity,\n        activeFillOpacity,\n        inactiveFillOpacity,\n        borderWidth,\n        activeBorderWidth,\n        inactiveBorderWidth,\n        borderColor,\n        borderOpacity,\n        activeBorderOpacity,\n        inactiveBorderOpacity,\n        isInteractive,\n        activeSerieIds,\n    })\n\n    const series: AreaBumpComputedSerie<Datum, ExtraProps>[] = useMemo(\n        () =>\n            rawSeries.map(serie => {\n                const serieWithColor = {\n                    ...serie,\n                    color: getColor(serie.data),\n                }\n\n                return {\n                    ...serieWithColor,\n                    ...getSerieStyle(serieWithColor),\n                }\n            }),\n        [rawSeries, getColor, getSerieStyle]\n    )\n\n    return {\n        series,\n        xScale,\n        heightScale,\n        areaGenerator,\n        activeSerieIds,\n        setActiveSerieIds,\n    }\n}\n\nexport const useAreaBumpSerieHandlers = <\n    Datum extends AreaBumpDatum,\n    ExtraProps extends AreaBumpSerieExtraProps\n>({\n    serie,\n    isInteractive,\n    onMouseEnter,\n    onMouseMove,\n    onMouseLeave,\n    onClick,\n    setActiveSerieIds,\n    tooltip,\n}: {\n    serie: AreaBumpComputedSerie<Datum, ExtraProps>\n    isInteractive: AreaBumpCommonProps<Datum, ExtraProps>['isInteractive']\n    onMouseEnter?: AreaBumpCommonProps<Datum, ExtraProps>['onMouseEnter']\n    onMouseMove?: AreaBumpCommonProps<Datum, ExtraProps>['onMouseMove']\n    onMouseLeave?: AreaBumpCommonProps<Datum, ExtraProps>['onMouseLeave']\n    onClick?: AreaBumpCommonProps<Datum, ExtraProps>['onClick']\n    setActiveSerieIds: (serieIds: string[]) => void\n    tooltip: AreaBumpCommonProps<Datum, ExtraProps>['tooltip']\n}) => {\n    const { showTooltipFromEvent, hideTooltip } = useTooltip()\n\n    const handleMouseEnter = useCallback(\n        (event: MouseEvent<SVGPathElement>) => {\n            showTooltipFromEvent(createElement(tooltip, { serie }), event)\n            setActiveSerieIds([serie.id])\n            onMouseEnter && onMouseEnter(serie, event)\n        },\n        [serie, onMouseEnter, showTooltipFromEvent, setActiveSerieIds, tooltip]\n    )\n\n    const handleMouseMove = useCallback(\n        (event: MouseEvent<SVGPathElement>) => {\n            showTooltipFromEvent(createElement(tooltip, { serie }), event)\n            onMouseMove && onMouseMove(serie, event)\n        },\n        [serie, onMouseMove, showTooltipFromEvent, tooltip]\n    )\n\n    const handleMouseLeave = useCallback(\n        (event: MouseEvent<SVGPathElement>) => {\n            hideTooltip()\n            setActiveSerieIds([])\n            onMouseLeave && onMouseLeave(serie, event)\n        },\n        [serie, onMouseLeave, hideTooltip, setActiveSerieIds]\n    )\n\n    const handleClick = useCallback(\n        (event: MouseEvent<SVGPathElement>) => {\n            onClick && onClick(serie, event)\n        },\n        [serie, onClick]\n    )\n\n    return useMemo(\n        () => ({\n            onMouseEnter: isInteractive ? handleMouseEnter : undefined,\n            onMouseMove: isInteractive ? handleMouseMove : undefined,\n            onMouseLeave: isInteractive ? handleMouseLeave : undefined,\n            onClick: isInteractive ? handleClick : undefined,\n        }),\n        [isInteractive, handleMouseEnter, handleMouseMove, handleMouseLeave, handleClick]\n    )\n}\n\nexport const useAreaBumpSeriesLabels = <\n    Datum extends AreaBumpDatum,\n    ExtraProps extends AreaBumpSerieExtraProps\n>({\n    series,\n    position,\n    padding,\n    color,\n    getLabel,\n}: {\n    series: AreaBumpComputedSerie<Datum, ExtraProps>[]\n    position: 'start' | 'end'\n    padding: number\n    color: InheritedColorConfig<AreaBumpComputedSerie<Datum, ExtraProps>>\n    getLabel: Exclude<AreaBumpLabel<Datum, ExtraProps>, false>\n}): AreaBumpLabelData<Datum, ExtraProps>[] => {\n    const theme = useTheme()\n    const getColor = useInheritedColor(color, theme)\n\n    return useMemo(() => {\n        let textAnchor: 'start' | 'end'\n        let signedPadding: number\n        if (position === 'start') {\n            textAnchor = 'end'\n            signedPadding = padding * -1\n        } else {\n            textAnchor = 'start'\n            signedPadding = padding\n        }\n\n        return series.map(serie => {\n            let label = serie.id\n            if (typeof getLabel === 'function') {\n                label = getLabel(serie.data)\n            }\n\n            const point =\n                position === 'start' ? serie.points[0] : serie.points[serie.points.length - 1]\n\n            return {\n                id: serie.id,\n                label,\n                x: point.x + signedPadding,\n                y: point.y,\n                color: getColor(serie),\n                opacity: serie.fillOpacity,\n                serie,\n                textAnchor,\n            }\n        })\n    }, [getLabel, series, position, padding, getColor])\n}\n","import { scalePoint, scaleLinear } from 'd3-scale'\nimport { castPointScale, castLinearScale, ScalePoint, ScaleLinear } from '@nivo/scales'\nimport {\n    AreaBumpCommonProps,\n    AreaBumpComputedSerie,\n    AreaBumpDataProps,\n    AreaBumpDatum,\n    AreaBumpSerieExtraProps,\n} from './types'\n\nexport const computeSeries = <\n    Datum extends AreaBumpDatum,\n    ExtraProps extends AreaBumpSerieExtraProps\n>({\n    data,\n    width,\n    height,\n    align,\n    spacing,\n    xPadding,\n}: {\n    data: AreaBumpDataProps<Datum, ExtraProps>['data']\n    width: number\n    height: number\n    align: AreaBumpCommonProps<Datum, ExtraProps>['align']\n    spacing: AreaBumpCommonProps<Datum, ExtraProps>['spacing']\n    xPadding: AreaBumpCommonProps<Datum, ExtraProps>['xPadding']\n}): {\n    series: Omit<\n        AreaBumpComputedSerie<Datum, ExtraProps>,\n        'color' | 'fill' | 'fillOpacity' | 'borderWidth' | 'borderColor' | 'borderOpacity'\n    >[]\n    xScale: ScalePoint<Datum['x']>\n    heightScale: ScaleLinear<number>\n} => {\n    const slices = new Map<\n        Datum['x'],\n        {\n            id: Datum['x']\n            total: number\n            x: number\n            values: Map<\n                string,\n                {\n                    serieId: string\n                    value: number\n                    position: number\n                    height: number\n                    beforeHeight: number\n                }\n            >\n        }\n    >()\n\n    let maxSum: number\n    let maxValues: number\n\n    data.forEach(serie => {\n        serie.data.forEach(datum => {\n            if (!slices.has(datum.x)) {\n                slices.set(datum.x, {\n                    id: datum.x,\n                    total: 0,\n                    values: new Map(),\n                    x: 0,\n                })\n            }\n\n            const slice = slices.get(datum.x)!\n\n            const total = slice.total + datum.y\n            slice.total = total\n\n            slice.values.set(serie.id, {\n                serieId: serie.id,\n                value: datum.y,\n                position: 0,\n                height: 0,\n                beforeHeight: 0,\n            })\n\n            if (maxSum === undefined || total > maxSum) {\n                maxSum = total\n            }\n            if (maxValues === undefined || slice.values.size > maxValues) {\n                maxValues = slice.values.size\n            }\n        })\n    })\n\n    const xScale = castPointScale<Datum['x']>(\n        scalePoint<Datum['x']>().domain(Array.from(slices.keys())).range([0, width])\n    )\n\n    const heightScale = castLinearScale<number, number>(\n        scaleLinear<number, number>()\n            .domain([0, maxSum!])\n            .range([0, height - maxValues! * spacing])\n    )\n\n    slices.forEach((slice, x) => {\n        slice.x = xScale(x)!\n        const sliceHeight = heightScale(slice.total) + slice.values.size * spacing\n\n        let offset = 0\n        if (align === 'middle') {\n            offset = (height - sliceHeight) / 2\n        } else if (align === 'end') {\n            offset = height - sliceHeight\n        }\n\n        Array.from(slice.values.values())\n            .sort((a, b) => b.value - a.value)\n            .forEach((value, position, all) => {\n                const previousValues = all.filter((_i, pos) => pos < position)\n                const beforeValue = previousValues.reduce((t, v) => t + v.value, 0)\n\n                const sliceValue = slice.values.get(value.serieId)!\n                sliceValue.position = position\n                sliceValue.height = heightScale(value.value)\n                sliceValue.beforeHeight =\n                    heightScale(beforeValue) + offset + spacing * (previousValues.length + 0.5)\n            })\n    })\n\n    const areaPointPadding = xScale.step() * Math.min(xPadding * 0.5, 0.5)\n\n    const series = data.map(serie => {\n        const computedSerie: Omit<\n            AreaBumpComputedSerie<Datum, ExtraProps>,\n            'color' | 'fill' | 'fillOpacity' | 'borderWidth' | 'borderColor' | 'borderOpacity'\n        > = {\n            id: serie.id,\n            data: serie,\n            points: [],\n            areaPoints: [],\n        }\n\n        serie.data.forEach((datum, i) => {\n            const slice = slices.get(datum.x)!\n            const position = slice.values.get(serie.id)!\n\n            const x = slice.x\n            const { beforeHeight, height } = position\n            const y = beforeHeight + height / 2\n            const y0 = beforeHeight\n            const y1 = beforeHeight + height\n\n            computedSerie.points.push({\n                x,\n                y,\n                height,\n                data: { ...datum },\n            })\n            if (i > 0) {\n                computedSerie.areaPoints.push({ x: x - areaPointPadding, y0, y1 })\n            }\n            computedSerie.areaPoints.push({ x, y0, y1 })\n            if (i < serie.data.length - 1) {\n                computedSerie.areaPoints.push({ x: x + areaPointPadding, y0, y1 })\n            }\n        })\n\n        return computedSerie\n    })\n\n    return {\n        series,\n        xScale,\n        heightScale,\n    }\n}\n","import { useSpring, animated } from '@react-spring/web'\nimport { useAnimatedPath, useMotionConfig } from '@nivo/core'\nimport { useAreaBumpSerieHandlers } from './hooks'\nimport {\n    AreaBumpAreaGenerator,\n    AreaBumpCommonProps,\n    AreaBumpComputedSerie,\n    AreaBumpDatum,\n    AreaBumpSerieExtraProps,\n} from './types'\n\ninterface AreaProps<Datum extends AreaBumpDatum, ExtraProps extends AreaBumpSerieExtraProps> {\n    serie: AreaBumpComputedSerie<Datum, ExtraProps>\n    areaGenerator: AreaBumpAreaGenerator\n    blendMode: AreaBumpCommonProps<Datum, ExtraProps>['blendMode']\n    isInteractive: AreaBumpCommonProps<Datum, ExtraProps>['isInteractive']\n    onMouseEnter?: AreaBumpCommonProps<Datum, ExtraProps>['onMouseEnter']\n    onMouseMove?: AreaBumpCommonProps<Datum, ExtraProps>['onMouseMove']\n    onMouseLeave?: AreaBumpCommonProps<Datum, ExtraProps>['onMouseLeave']\n    onClick?: AreaBumpCommonProps<Datum, ExtraProps>['onClick']\n    setActiveSerieIds: (serieIds: string[]) => void\n    tooltip: AreaBumpCommonProps<Datum, ExtraProps>['tooltip']\n}\n\nexport const Area = <Datum extends AreaBumpDatum, ExtraProps extends AreaBumpSerieExtraProps>({\n    serie,\n    areaGenerator,\n    blendMode,\n    isInteractive,\n    onMouseEnter,\n    onMouseMove,\n    onMouseLeave,\n    onClick,\n    setActiveSerieIds,\n    tooltip,\n}: AreaProps<Datum, ExtraProps>) => {\n    const handlers = useAreaBumpSerieHandlers<Datum, ExtraProps>({\n        serie,\n        isInteractive,\n        onMouseEnter,\n        onMouseMove,\n        onMouseLeave,\n        onClick,\n        setActiveSerieIds,\n        tooltip,\n    })\n\n    const { animate, config: springConfig } = useMotionConfig()\n\n    const animatedPath = useAnimatedPath(areaGenerator(serie.areaPoints) || '')\n    const animatedProps = useSpring<{\n        color: string\n        fillOpacity: number\n        stroke: string\n        strokeOpacity: number\n    }>({\n        color: serie.color,\n        fillOpacity: serie.fillOpacity,\n        stroke: serie.borderColor,\n        strokeOpacity: serie.borderOpacity,\n        config: springConfig,\n        immediate: !animate,\n    })\n\n    return (\n        <animated.path\n            data-testid={`area.${serie.id}`}\n            d={animatedPath}\n            fill={serie.fill ? serie.fill : animatedProps.color}\n            fillOpacity={animatedProps.fillOpacity}\n            stroke={animatedProps.stroke}\n            strokeWidth={serie.borderWidth}\n            strokeOpacity={animatedProps.strokeOpacity}\n            style={{ mixBlendMode: blendMode }}\n            onMouseEnter={handlers.onMouseEnter}\n            onMouseMove={handlers.onMouseMove}\n            onMouseLeave={handlers.onMouseLeave}\n            onClick={handlers.onClick}\n        />\n    )\n}\n","import { useSprings, animated } from '@react-spring/web'\nimport { useTheme, useMotionConfig } from '@nivo/core'\nimport { InheritedColorConfig } from '@nivo/colors'\nimport {\n    AreaBumpComputedSerie,\n    AreaBumpDatum,\n    AreaBumpLabel,\n    AreaBumpSerieExtraProps,\n} from './types'\nimport { useAreaBumpSeriesLabels } from './hooks'\n\ninterface AreaLabelsProps<Datum extends AreaBumpDatum, ExtraProps extends AreaBumpSerieExtraProps> {\n    getLabel: Exclude<AreaBumpLabel<Datum, ExtraProps>, false>\n    series: AreaBumpComputedSerie<Datum, ExtraProps>[]\n    position: 'start' | 'end'\n    padding: number\n    color: InheritedColorConfig<AreaBumpComputedSerie<Datum, ExtraProps>>\n}\n\nexport const AreasLabels = <\n    Datum extends AreaBumpDatum,\n    ExtraProps extends AreaBumpSerieExtraProps\n>({\n    getLabel,\n    series,\n    position,\n    padding,\n    color,\n}: AreaLabelsProps<Datum, ExtraProps>) => {\n    const theme = useTheme()\n    const { animate, config: springConfig } = useMotionConfig()\n\n    const labels = useAreaBumpSeriesLabels<Datum, ExtraProps>({\n        getLabel,\n        series,\n        position,\n        padding,\n        color,\n    })\n\n    const springs = useSprings<{\n        x: number\n        y: number\n        opacity: number\n    }>(\n        labels.length,\n        labels.map(label => ({\n            x: label.x,\n            y: label.y,\n            opacity: label.opacity,\n            config: springConfig,\n            immediate: !animate,\n        }))\n    )\n\n    return (\n        <>\n            {springs.map((animatedProps, index) => {\n                const label = labels[index]\n\n                return (\n                    <animated.text\n                        data-testid={`label.${position}.${label.serie.id}`}\n                        key={label.id}\n                        x={animatedProps.x}\n                        y={animatedProps.y}\n                        textAnchor={label.textAnchor}\n                        dominantBaseline=\"central\"\n                        opacity={animatedProps.opacity}\n                        style={{\n                            ...theme.labels.text,\n                            fill: label.color,\n                        }}\n                    >\n                        {label.label}\n                    </animated.text>\n                )\n            })}\n        </>\n    )\n}\n","import { MotionProps, SvgDefsAndFill } from '@nivo/core'\nimport { AreaBumpCommonProps, AreaBumpComputedSerie, DefaultAreaBumpDatum } from './types'\nimport { AreaTooltip } from './AreaTooltip'\n\nconst commonDefaultProps: Omit<\n    AreaBumpCommonProps<DefaultAreaBumpDatum, Record<string, unknown>>,\n    | 'onMouseEnter'\n    | 'onMouseMove'\n    | 'onMouseLeave'\n    | 'onClick'\n    | 'margin'\n    | 'theme'\n    | 'renderWrapper'\n> = {\n    align: 'middle',\n\n    layers: ['grid', 'axes', 'labels', 'areas'],\n\n    interpolation: 'smooth',\n    spacing: 0,\n    xPadding: 0.6,\n\n    colors: { scheme: 'nivo' },\n    blendMode: 'normal',\n    fillOpacity: 0.8,\n    activeFillOpacity: 1,\n    inactiveFillOpacity: 0.15,\n    borderWidth: 1,\n    activeBorderWidth: 1,\n    inactiveBorderWidth: 0,\n    borderColor: { from: 'color', modifiers: [['darker', 0.4]] },\n    borderOpacity: 1,\n    activeBorderOpacity: 1,\n    inactiveBorderOpacity: 0,\n\n    startLabel: false,\n    startLabelPadding: 12,\n    startLabelTextColor: { from: 'color', modifiers: [['darker', 1]] },\n    endLabel: true,\n    endLabelPadding: 12,\n    endLabelTextColor: { from: 'color', modifiers: [['darker', 1]] },\n\n    enableGridX: true,\n    axisTop: {},\n    axisBottom: {},\n\n    isInteractive: true,\n    defaultActiveSerieIds: [],\n    tooltip: AreaTooltip,\n\n    role: 'img',\n}\n\nexport const areaBumpSvgDefaultProps: typeof commonDefaultProps &\n    SvgDefsAndFill<AreaBumpComputedSerie<DefaultAreaBumpDatum, Record<string, unknown>>> & {\n        animate: boolean\n        motionConfig: MotionProps['motionConfig']\n    } = {\n    ...commonDefaultProps,\n    defs: [],\n    fill: [],\n    animate: true,\n    motionConfig: 'gentle',\n}\n","import { BasicTooltip } from '@nivo/tooltip'\nimport { AreaBumpDatum, AreaBumpComputedSerie, AreaBumpSerieExtraProps } from './types'\n\ninterface AreaTooltipProps<\n    Datum extends AreaBumpDatum,\n    ExtraProps extends AreaBumpSerieExtraProps\n> {\n    serie: AreaBumpComputedSerie<Datum, ExtraProps>\n}\n\nexport const AreaTooltip = <\n    Datum extends AreaBumpDatum,\n    ExtraProps extends AreaBumpSerieExtraProps\n>({\n    serie,\n}: AreaTooltipProps<Datum, ExtraProps>) => (\n    <BasicTooltip id={serie.id} enableChip={true} color={serie.color} />\n)\n","import { Fragment, useMemo, ReactNode, createElement } from 'react'\nimport {\n    // @ts-ignore\n    bindDefs,\n    useDimensions,\n    SvgWrapper,\n    Container,\n} from '@nivo/core'\nimport { Grid, Axes } from '@nivo/axes'\nimport { useAreaBump } from './hooks'\nimport { Area } from './Area'\nimport { AreasLabels } from './AreasLabels'\nimport {\n    AreaBumpSvgProps,\n    AreaBumpDatum,\n    DefaultAreaBumpDatum,\n    AreaBumpLayerId,\n    AreaBumpCustomLayerProps,\n    AreaBumpSerieExtraProps,\n} from './types'\nimport { areaBumpSvgDefaultProps } from './defaults'\n\ntype InnerAreaBumpProps<\n    Datum extends AreaBumpDatum,\n    ExtraProps extends AreaBumpSerieExtraProps\n> = Omit<\n    AreaBumpSvgProps<Datum, ExtraProps>,\n    'animate' | 'motionConfig' | 'renderWrapper' | 'theme'\n>\n\nconst InnerAreaBump = <Datum extends AreaBumpDatum, ExtraProps extends AreaBumpSerieExtraProps>({\n    data,\n    align = areaBumpSvgDefaultProps.align,\n\n    width,\n    height,\n    margin: partialMargin,\n\n    layers = areaBumpSvgDefaultProps.layers as NonNullable<\n        AreaBumpSvgProps<Datum, ExtraProps>['layers']\n    >,\n\n    interpolation = areaBumpSvgDefaultProps.interpolation,\n    spacing = areaBumpSvgDefaultProps.spacing,\n    xPadding = areaBumpSvgDefaultProps.xPadding,\n\n    colors = areaBumpSvgDefaultProps.colors as NonNullable<\n        AreaBumpSvgProps<Datum, ExtraProps>['colors']\n    >,\n    blendMode = areaBumpSvgDefaultProps.blendMode,\n    fillOpacity = areaBumpSvgDefaultProps.fillOpacity,\n    activeFillOpacity = areaBumpSvgDefaultProps.activeFillOpacity,\n    inactiveFillOpacity = areaBumpSvgDefaultProps.inactiveFillOpacity,\n    defs = areaBumpSvgDefaultProps.defs,\n    fill = areaBumpSvgDefaultProps.fill as NonNullable<AreaBumpSvgProps<Datum, ExtraProps>['fill']>,\n    borderWidth = areaBumpSvgDefaultProps.borderWidth,\n    activeBorderWidth = areaBumpSvgDefaultProps.activeBorderWidth,\n    inactiveBorderWidth = areaBumpSvgDefaultProps.inactiveBorderWidth,\n    borderColor = areaBumpSvgDefaultProps.borderColor as NonNullable<\n        AreaBumpSvgProps<Datum, ExtraProps>['borderColor']\n    >,\n    borderOpacity = areaBumpSvgDefaultProps.borderOpacity,\n    activeBorderOpacity = areaBumpSvgDefaultProps.activeBorderOpacity,\n    inactiveBorderOpacity = areaBumpSvgDefaultProps.inactiveBorderOpacity,\n\n    startLabel = areaBumpSvgDefaultProps.startLabel as NonNullable<\n        AreaBumpSvgProps<Datum, ExtraProps>['startLabel']\n    >,\n    startLabelPadding = areaBumpSvgDefaultProps.startLabelPadding,\n    startLabelTextColor = areaBumpSvgDefaultProps.startLabelTextColor as NonNullable<\n        AreaBumpSvgProps<Datum, ExtraProps>['startLabelTextColor']\n    >,\n    endLabel = areaBumpSvgDefaultProps.endLabel as NonNullable<\n        AreaBumpSvgProps<Datum, ExtraProps>['endLabel']\n    >,\n    endLabelPadding = areaBumpSvgDefaultProps.endLabelPadding,\n    endLabelTextColor = areaBumpSvgDefaultProps.endLabelTextColor as NonNullable<\n        AreaBumpSvgProps<Datum, ExtraProps>['endLabelTextColor']\n    >,\n\n    enableGridX = areaBumpSvgDefaultProps.enableGridX,\n    axisTop = areaBumpSvgDefaultProps.axisTop,\n    axisBottom = areaBumpSvgDefaultProps.axisBottom,\n\n    isInteractive = areaBumpSvgDefaultProps.isInteractive,\n    defaultActiveSerieIds = areaBumpSvgDefaultProps.defaultActiveSerieIds,\n    onMouseEnter,\n    onMouseMove,\n    onMouseLeave,\n    onClick,\n    tooltip = areaBumpSvgDefaultProps.tooltip as NonNullable<\n        AreaBumpSvgProps<Datum, ExtraProps>['tooltip']\n    >,\n    role = areaBumpSvgDefaultProps.role,\n}: InnerAreaBumpProps<Datum, ExtraProps>) => {\n    const { margin, innerWidth, innerHeight, outerWidth, outerHeight } = useDimensions(\n        width,\n        height,\n        partialMargin\n    )\n\n    const { series, xScale, heightScale, areaGenerator, setActiveSerieIds } = useAreaBump<\n        Datum,\n        ExtraProps\n    >({\n        data,\n        width: innerWidth,\n        height: innerHeight,\n        align,\n        spacing,\n        xPadding,\n        interpolation,\n        colors,\n        fillOpacity,\n        activeFillOpacity,\n        inactiveFillOpacity,\n        borderWidth,\n        activeBorderWidth,\n        inactiveBorderWidth,\n        borderColor,\n        borderOpacity,\n        activeBorderOpacity,\n        inactiveBorderOpacity,\n        isInteractive,\n        defaultActiveSerieIds,\n    })\n\n    const boundDefs = useMemo(\n        () => bindDefs(defs, series, fill, { targetKey: 'fill' }),\n        [defs, series, fill]\n    )\n\n    const layerById: Record<AreaBumpLayerId, ReactNode> = {\n        grid: null,\n        axes: null,\n        labels: null,\n        areas: null,\n    }\n\n    if (layers.includes('grid') && enableGridX) {\n        layerById.grid = <Grid key=\"grid\" width={innerWidth} height={innerHeight} xScale={xScale} />\n    }\n\n    if (layers.includes('axes')) {\n        layerById.axes = (\n            <Axes\n                key=\"axes\"\n                xScale={xScale}\n                yScale={heightScale}\n                width={innerWidth}\n                height={innerHeight}\n                top={axisTop}\n                bottom={axisBottom}\n            />\n        )\n    }\n\n    if (layers.includes('areas')) {\n        layerById.areas = (\n            <Fragment key=\"areas\">\n                {series.map(serie => (\n                    <Area<Datum, ExtraProps>\n                        key={serie.id}\n                        areaGenerator={areaGenerator}\n                        serie={serie}\n                        blendMode={blendMode}\n                        isInteractive={isInteractive}\n                        setActiveSerieIds={setActiveSerieIds}\n                        onMouseEnter={onMouseEnter}\n                        onMouseMove={onMouseMove}\n                        onMouseLeave={onMouseLeave}\n                        onClick={onClick}\n                        tooltip={tooltip}\n                    />\n                ))}\n            </Fragment>\n        )\n    }\n\n    if (layers.includes('labels')) {\n        layerById.labels = (\n            <Fragment key=\"labels\">\n                {startLabel !== false && (\n                    <AreasLabels<Datum, ExtraProps>\n                        getLabel={startLabel}\n                        series={series}\n                        position=\"start\"\n                        padding={startLabelPadding}\n                        color={startLabelTextColor}\n                    />\n                )}\n                {endLabel !== false && (\n                    <AreasLabels<Datum, ExtraProps>\n                        getLabel={endLabel}\n                        series={series}\n                        position=\"end\"\n                        padding={endLabelPadding}\n                        color={endLabelTextColor}\n                    />\n                )}\n            </Fragment>\n        )\n    }\n\n    const customLayerProps: AreaBumpCustomLayerProps<Datum, ExtraProps> = useMemo(\n        () => ({\n            innerWidth,\n            innerHeight,\n            outerWidth,\n            outerHeight,\n            series,\n            xScale,\n            areaGenerator,\n        }),\n        [innerWidth, innerHeight, outerWidth, outerHeight, series, xScale, areaGenerator]\n    )\n\n    return (\n        <SvgWrapper\n            defs={boundDefs}\n            width={outerWidth}\n            height={outerHeight}\n            margin={margin}\n            role={role}\n        >\n            {layers.map((layer, i) => {\n                if (typeof layer === 'function') {\n                    return <Fragment key={i}>{createElement(layer, customLayerProps)}</Fragment>\n                }\n\n                return layerById?.[layer] ?? null\n            })}\n        </SvgWrapper>\n    )\n}\n\nexport const AreaBump = <\n    Datum extends AreaBumpDatum = DefaultAreaBumpDatum,\n    ExtraProps extends AreaBumpSerieExtraProps = Record<string, unknown>\n>({\n    isInteractive = areaBumpSvgDefaultProps.isInteractive,\n    animate = areaBumpSvgDefaultProps.animate,\n    motionConfig = areaBumpSvgDefaultProps.motionConfig,\n    theme,\n    renderWrapper,\n    ...otherProps\n}: AreaBumpSvgProps<Datum, ExtraProps>) => (\n    <Container\n        {...{\n            animate,\n            isInteractive,\n            motionConfig,\n            renderWrapper,\n            theme,\n        }}\n    >\n        <InnerAreaBump<Datum, ExtraProps> isInteractive={isInteractive} {...otherProps} />\n    </Container>\n)\n","import { ResponsiveWrapper } from '@nivo/core'\nimport {\n    AreaBumpDatum,\n    AreaBumpSerieExtraProps,\n    AreaBumpSvgProps,\n    DefaultAreaBumpDatum,\n} from './types'\nimport { AreaBump } from './AreaBump'\n\nexport const ResponsiveAreaBump = <\n    Datum extends AreaBumpDatum = DefaultAreaBumpDatum,\n    ExtraProps extends AreaBumpSerieExtraProps = Record<string, unknown>\n>(\n    props: Omit<AreaBumpSvgProps<Datum, ExtraProps>, 'width' | 'height'>\n) => (\n    <ResponsiveWrapper>\n        {({ width, height }) => (\n            <AreaBump<Datum, ExtraProps> width={width} height={height} {...props} />\n        )}\n    </ResponsiveWrapper>\n)\n"],"names":["useSerieDerivedProp","instruction","useMemo","useBump","_ref3","width","height","data","interpolation","xPadding","xOuterPadding","yOuterPadding","lineWidth","activeLineWidth","inactiveLineWidth","colors","opacity","activeOpacity","inactiveOpacity","pointSize","activePointSize","inactivePointSize","pointColor","pointBorderWidth","activePointBorderWidth","inactivePointBorderWidth","pointBorderColor","isInteractive","defaultActiveSerieIds","_useState","useState","activeSerieIds","setActiveSerieIds","_useMemo","_ref","xValuesSet","Set","yValuesSet","forEach","serie","datum","add","x","y","xValues","Array","from","xScale","castPointScale","scalePoint","domain","range","padding","yValues","sort","a","b","yScale","linePointPadding","step","Math","min","series","map","rawSerie","id","points","linePoints","i","point","push","length","filter","computeSeries","rawSeries","lineGenerator","d3Line","curve","curveBasis","curveLinear","defined","d","useLineGenerator","getColor","useOrdinalColorScale","getSerieStyle","getLineWidth","getActiveLineWidth","getInactiveLineWidth","getOpacity","getActiveOpacity","getInactiveOpacity","getNormalStyle","useCallback","getActiveStyle","getInactiveStyle","includes","useSerieStyle","_extends","color","theme","useTheme","getPointColor","useInheritedColor","getPointBorderColor","getPointStyle","_ref2","getSize","getActiveSize","getInactiveSize","getBorderWidth","getActiveBorderWidth","getInactiveBorderWidth","size","borderWidth","usePointStyle","pts","rawPoint","isActive","isInactive","borderColor","useBumpSerieHandlers","_ref4","onMouseEnter","onMouseMove","onMouseLeave","onClick","tooltip","_useTooltip","useTooltip","showTooltipFromEvent","hideTooltip","handleMouseEnter","event","createElement","handleMouseMove","handleMouseLeave","handleClick","undefined","useBumpSeriesLabels","_ref5","position","getLabel","textAnchor","signedPadding","labels","label","pointStyle","pointerEvents","bumpSvgDefaultProps","layers","scheme","startLabel","startLabelPadding","startLabelTextColor","endLabel","endLabelPadding","endLabelTextColor","modifiers","enableGridX","enableGridY","axisTop","axisBottom","axisLeft","_jsx","BasicTooltip","enableChip","role","pointComponent","_useMotionConfig","useMotionConfig","animate","springConfig","config","animatedProps","useSpring","radius","immediate","animated","circle","cx","cy","r","to","v","max","fill","strokeWidth","stroke","style","motionConfig","Line","yStep","handlers","linePath","animatedPath","useAnimatedPath","_jsxs","_Fragment","children","path","strokeLinecap","strokeOpacity","LinesLabels","springs","useSprings","index","text","dominantBaseline","Points","key","InnerBump","partialMargin","margin","_ref$layers","_ref$interpolation","_ref$xPadding","_ref$xOuterPadding","_ref$yOuterPadding","_ref$colors","_ref$lineWidth","_ref$activeLineWidth","_ref$inactiveLineWidt","_ref$opacity","_ref$activeOpacity","_ref$inactiveOpacity","_ref$startLabel","_ref$startLabelPaddin","_ref$startLabelTextCo","_ref$endLabel","_ref$endLabelPadding","_ref$endLabelTextColo","_ref$pointComponent","_ref$pointSize","_ref$activePointSize","_ref$inactivePointSiz","_ref$pointColor","_ref$pointBorderWidth","_ref$activePointBorde","_ref$inactivePointBor","_ref$pointBorderColor","_ref$enableGridX","_ref$enableGridY","_ref$axisTop","axisRight","_ref$axisBottom","_ref$axisLeft","_ref$isInteractive","_ref$defaultActiveSer","_ref$tooltip","_ref$role","_useDimensions","useDimensions","innerWidth","innerHeight","outerWidth","outerHeight","_useBump","layerById","grid","axes","lines","Grid","Axes","top","right","bottom","left","Fragment","customLayerProps","SvgWrapper","layer","_layerById$layer","Bump","_ref2$isInteractive","_ref2$animate","_ref2$motionConfig","renderWrapper","otherProps","_objectWithoutPropertiesLoose","_excluded","Container","ResponsiveBump","props","ResponsiveWrapper","useAreaBumpSeries","align","spacing","maxSum","maxValues","slices","Map","has","set","total","values","slice","get","serieId","value","beforeHeight","keys","heightScale","castLinearScale","scaleLinear","sliceHeight","offset","all","previousValues","_i","pos","beforeValue","reduce","t","sliceValue","areaPointPadding","computedSerie","areaPoints","y0","y1","useAreaBump","fillOpacity","activeFillOpacity","inactiveFillOpacity","activeBorderWidth","inactiveBorderWidth","borderOpacity","activeBorderOpacity","inactiveBorderOpacity","_useAreaBumpSeries","areaGenerator","d3Area","useAreaGenerator","getFillOpacity","getActiveFillOpacity","getInactiveFillOpacity","getBorderColor","getBorderOpacity","getActiveBorderOpacity","getInactiveBorderOpacity","serieWithColor","useAreaBumpSerieHandlers","useAreaBumpSeriesLabels","Area","blendMode","mixBlendMode","AreasLabels","areaBumpSvgDefaultProps","defs","InnerAreaBump","_ref$align","_ref$spacing","_ref$blendMode","_ref$fillOpacity","_ref$activeFillOpacit","_ref$inactiveFillOpac","_ref$defs","_ref$fill","_ref$borderWidth","_ref$activeBorderWidt","_ref$inactiveBorderWi","_ref$borderColor","_ref$borderOpacity","_ref$activeBorderOpac","_ref$inactiveBorderOp","_useAreaBump","boundDefs","bindDefs","targetKey","areas","AreaBump","ResponsiveAreaBump"],"mappings":"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"}