{"version":3,"file":"nivo-stream.cjs.js","sources":["../src/StreamLayer.tsx","../src/StreamLayers.tsx","../src/StreamDots.tsx","../src/StreamSlicesItem.tsx","../src/StreamSlices.tsx","../src/props.ts","../src/StreamDotsItem.tsx","../src/LayerTooltip.tsx","../src/StackTooltip.tsx","../src/hooks.ts","../src/Stream.tsx","../src/ResponsiveStream.tsx"],"sourcesContent":["import { useCallback, createElement, MouseEvent } from 'react'\nimport { useSpring, animated } from '@react-spring/web'\nimport { useAnimatedPath, useMotionConfig } from '@nivo/core'\nimport { InheritedColorConfigCustomFunction } from '@nivo/colors'\nimport { useTooltip } from '@nivo/tooltip'\nimport { StreamCommonProps, StreamDatum, StreamLayerData } from './types'\n\ninterface StreamLayerProps<RawDatum extends StreamDatum> {\n    layer: StreamLayerData\n    fillOpacity: number\n    borderWidth: number\n    getBorderColor: InheritedColorConfigCustomFunction<StreamLayerData>\n    isInteractive: boolean\n    tooltip: StreamCommonProps<RawDatum>['tooltip']\n}\n\nexport const StreamLayer = <RawDatum extends StreamDatum>({\n    layer,\n    fillOpacity,\n    borderWidth,\n    getBorderColor,\n    isInteractive,\n    tooltip,\n}: StreamLayerProps<RawDatum>) => {\n    const { showTooltipFromEvent, hideTooltip } = useTooltip()\n    const handleMouseHover = useCallback(\n        (event: MouseEvent<SVGPathElement>) => {\n            showTooltipFromEvent(createElement(tooltip, { layer }), event, 'left')\n        },\n        [showTooltipFromEvent, layer]\n    )\n\n    const { animate, config: springConfig } = useMotionConfig()\n    const animatedPath = useAnimatedPath(layer.path)\n    const animatedProps = useSpring({\n        color: layer.color,\n        config: springConfig,\n        immediate: !animate,\n    })\n\n    return (\n        <animated.path\n            d={animatedPath}\n            fill={layer.fill ? layer.fill : animatedProps.color}\n            fillOpacity={fillOpacity}\n            stroke={getBorderColor(layer)}\n            strokeWidth={borderWidth}\n            onMouseMove={isInteractive ? handleMouseHover : undefined}\n            onMouseEnter={isInteractive ? handleMouseHover : undefined}\n            onMouseLeave={isInteractive ? hideTooltip : undefined}\n        />\n    )\n}\n","import { InheritedColorConfigCustomFunction } from '@nivo/colors'\nimport { StreamLayer } from './StreamLayer'\nimport { StreamCommonProps, StreamLayerData, StreamDatum } from './types'\n\ninterface StreamLayersProps<RawDatum extends StreamDatum> {\n    layers: StreamLayerData[]\n    fillOpacity: number\n    borderWidth: number\n    getBorderColor: InheritedColorConfigCustomFunction<StreamLayerData>\n    isInteractive: boolean\n    tooltip: StreamCommonProps<RawDatum>['tooltip']\n}\n\nexport const StreamLayers = <RawDatum extends StreamDatum>({\n    layers,\n    fillOpacity,\n    borderWidth,\n    getBorderColor,\n    isInteractive,\n    tooltip,\n}: StreamLayersProps<RawDatum>) => (\n    <g>\n        {layers.map((layer, i) => (\n            <StreamLayer<RawDatum>\n                key={i}\n                layer={layer}\n                getBorderColor={getBorderColor}\n                borderWidth={borderWidth}\n                fillOpacity={fillOpacity}\n                isInteractive={isInteractive}\n                tooltip={tooltip}\n            />\n        ))}\n    </g>\n)\n","import { createElement } from 'react'\nimport { StreamSvgProps, StreamLayerDatum, StreamDatum } from './types'\n\ninterface StreamDotsProps<RawDatum extends StreamDatum> {\n    id: string | number\n    color: string\n    data: StreamLayerDatum[]\n    dotComponent: Exclude<StreamSvgProps<RawDatum>['dotComponent'], undefined>\n    position: 'start' | 'center' | 'end'\n    getSize: (datum: StreamLayerDatum) => number\n    getColor: (datum: StreamLayerDatum) => string\n    getBorderWidth: (datum: StreamLayerDatum) => number\n    getBorderColor: (datum: StreamLayerDatum) => string\n}\n\nconst getDotY = <RawDatum extends StreamDatum>(\n    datum: StreamLayerDatum,\n    position: StreamDotsProps<RawDatum>['position']\n) => {\n    let y = datum.y2\n    if (position === 'center') {\n        y = datum.y1 + (datum.y2 - datum.y1) / 2\n    } else if (position === 'start') {\n        y = datum.y1\n    }\n\n    return y\n}\n\nexport const StreamDots = <RawDatum extends StreamDatum>({\n    data,\n    dotComponent,\n    position,\n    getSize,\n    getColor,\n    getBorderWidth,\n    getBorderColor,\n}: StreamDotsProps<RawDatum>) => (\n    <>\n        {data.map((datum, i) => {\n            return createElement(dotComponent, {\n                key: i,\n                datum,\n                x: datum.x,\n                y: getDotY<RawDatum>(datum, position),\n                size: getSize(datum),\n                color: getColor(datum),\n                borderWidth: getBorderWidth(datum),\n                borderColor: getBorderColor(datum),\n            })\n        })}\n    </>\n)\n","import { createElement, useCallback, useState, MouseEvent } from 'react'\nimport { useTooltip } from '@nivo/tooltip'\nimport { StreamCommonProps, StreamDatum, StreamSliceData } from './types'\n\ninterface StreamSlicesItemProps<RawDatum extends StreamDatum> {\n    slice: StreamSliceData\n    height: number\n    tooltip: StreamCommonProps<RawDatum>['stackTooltip']\n}\n\nexport const StreamSlicesItem = <RawDatum extends StreamDatum>({\n    slice,\n    height,\n    tooltip,\n}: StreamSlicesItemProps<RawDatum>) => {\n    const [isHover, setIsHover] = useState(false)\n    const { showTooltipFromEvent, hideTooltip } = useTooltip()\n\n    const handleMouseHover = useCallback(\n        (event: MouseEvent<SVGRectElement>) => {\n            setIsHover(true)\n            showTooltipFromEvent(createElement(tooltip, { slice }), event, 'left')\n        },\n        [setIsHover, showTooltipFromEvent, tooltip, slice]\n    )\n\n    const handleMouseLeave = useCallback(() => {\n        setIsHover(false)\n        hideTooltip()\n    }, [setIsHover, hideTooltip])\n\n    return (\n        <g transform={`translate(${slice.x}, 0)`}>\n            {isHover && (\n                <line\n                    x1={0}\n                    x2={0}\n                    y1={0}\n                    y2={height}\n                    stroke=\"#000\"\n                    strokeOpacity={0.35}\n                    strokeWidth={1}\n                />\n            )}\n            <rect\n                x={-20}\n                width={40}\n                height={height}\n                fill=\"#000\"\n                fillOpacity={0}\n                onMouseEnter={handleMouseHover}\n                onMouseMove={handleMouseHover}\n                onMouseLeave={handleMouseLeave}\n            />\n        </g>\n    )\n}\n","import { StreamSliceData, StreamDatum, StreamCommonProps } from './types'\nimport { StreamSlicesItem } from './StreamSlicesItem'\n\ninterface StreamSlicesProps<RawDatum extends StreamDatum> {\n    slices: StreamSliceData[]\n    height: number\n    tooltip: StreamCommonProps<RawDatum>['stackTooltip']\n}\n\nexport const StreamSlices = <RawDatum extends StreamDatum>({\n    slices,\n    height,\n    tooltip,\n}: StreamSlicesProps<RawDatum>) => (\n    <g>\n        {slices.map(slice => (\n            <StreamSlicesItem<RawDatum>\n                key={slice.index}\n                slice={slice}\n                height={height}\n                tooltip={tooltip}\n            />\n        ))}\n    </g>\n)\n","import { StackOrder, StackOffset, AreaCurve } from '@nivo/core'\nimport { StreamCommonProps, StreamLayerId } from './types'\nimport { StreamDotsItem } from './StreamDotsItem'\nimport { LayerTooltip } from './LayerTooltip'\nimport { StackTooltip } from './StackTooltip'\n\nexport const defaultProps = {\n    label: 'id',\n\n    order: 'none' as StackOrder,\n    offsetType: 'wiggle' as StackOffset,\n    curve: 'catmullRom' as AreaCurve,\n\n    axisBottom: {},\n    axisLeft: {},\n    enableGridX: false,\n    enableGridY: true,\n\n    colors: { scheme: 'nivo' } as StreamCommonProps<any>['colors'],\n    fillOpacity: 1,\n    borderWidth: 0,\n    borderColor: {\n        from: 'color',\n        modifiers: [['darker', 1]],\n    } as StreamCommonProps<any>['borderColor'],\n\n    enableDots: false,\n    dotPosition: 'center' as StreamCommonProps<any>['dotPosition'],\n    dotComponent: StreamDotsItem,\n    dotSize: 6,\n    dotColor: { from: 'color' },\n    dotBorderWidth: 0,\n    dotBorderColor: { from: 'color' },\n\n    isInteractive: true,\n    tooltip: LayerTooltip,\n    enableStackTooltip: true,\n    stackTooltip: StackTooltip,\n\n    legends: [],\n    legendLabel: 'id',\n\n    role: 'application',\n}\n\nexport const svgDefaultProps = {\n    ...defaultProps,\n    layers: ['grid', 'axes', 'layers', 'dots', 'slices', 'legends'] as StreamLayerId[],\n\n    defs: [],\n    fill: [],\n\n    animate: true,\n    motionConfig: 'default',\n\n    role: 'img',\n    isFocusable: false,\n}\n","import { useSpring, animated } from '@react-spring/web'\nimport { useMotionConfig } from '@nivo/core'\n\nexport interface StreamDotsItemProps {\n    x: number\n    y: number\n    size: number\n    color: string\n    borderWidth: number\n    borderColor: string\n}\n\nexport const StreamDotsItem = ({\n    x,\n    y,\n    size,\n    color,\n    borderWidth,\n    borderColor,\n}: StreamDotsItemProps) => {\n    const { animate, config: springConfig } = useMotionConfig()\n    const animatedProps = useSpring({\n        x,\n        y,\n        radius: size * 0.5,\n        color,\n        config: springConfig,\n        immediate: !animate,\n    })\n\n    return (\n        <animated.circle\n            cx={animatedProps.x}\n            cy={animatedProps.y}\n            r={animatedProps.radius}\n            fill={animatedProps.color}\n            strokeWidth={borderWidth}\n            stroke={borderColor}\n        />\n    )\n}\n","import { BasicTooltip } from '@nivo/tooltip'\nimport { TooltipProps } from './types'\n\nexport const LayerTooltip = ({ layer }: TooltipProps) => (\n    <BasicTooltip id={layer.label} enableChip={true} color={layer.color} />\n)\n","import { useMemo } from 'react'\nimport { TableTooltip, Chip } from '@nivo/tooltip'\nimport { StackTooltipProps } from './types'\n\nexport const StackTooltip = ({ slice }: StackTooltipProps) => {\n    const rows = useMemo(\n        () =>\n            slice.stack.map(p => [\n                <Chip key={p.layerId} color={p.color} />,\n                p.layerLabel,\n                p.formattedValue,\n            ]),\n        [slice]\n    )\n\n    return <TableTooltip rows={rows} />\n}\n","import { useMemo } from 'react'\nimport { area, stack as d3Stack } from 'd3-shape'\nimport {\n    useTheme,\n    usePropertyAccessor,\n    useValueFormatter,\n    useCurveInterpolation,\n    // @ts-ignore\n    stackOrderFromProp,\n    // @ts-ignore\n    stackOffsetFromProp,\n} from '@nivo/core'\nimport { useInheritedColor, useOrdinalColorScale } from '@nivo/colors'\nimport {\n    StreamCommonProps,\n    StreamCustomLayerProps,\n    StreamDataProps,\n    StreamDatum,\n    StreamLayerData,\n    StreamLayerDatum,\n    StreamSliceData,\n} from './types'\nimport { defaultProps } from './props'\nimport { createLinearScale, createPointScale } from '@nivo/scales'\n\nexport const useStream = <RawDatum extends StreamDatum>({\n    width,\n    height,\n    data,\n    keys,\n    label = defaultProps.label,\n    valueFormat,\n    offsetType = defaultProps.offsetType,\n    order = defaultProps.order,\n    curve = defaultProps.curve,\n    colors = defaultProps.colors,\n    borderColor = defaultProps.borderColor,\n    dotSize = defaultProps.dotSize,\n    dotColor = defaultProps.dotColor,\n    dotBorderWidth = defaultProps.dotBorderWidth,\n    dotBorderColor = defaultProps.dotBorderColor,\n}: {\n    width: number\n    height: number\n    data: StreamDataProps<RawDatum>['data']\n    keys: StreamDataProps<RawDatum>['keys']\n    label?: StreamCommonProps<RawDatum>['label']\n    valueFormat?: StreamCommonProps<RawDatum>['valueFormat']\n    offsetType?: StreamCommonProps<RawDatum>['offsetType']\n    order?: StreamCommonProps<RawDatum>['order']\n    curve?: StreamCommonProps<RawDatum>['curve']\n    colors?: StreamCommonProps<RawDatum>['colors']\n    dotSize?: StreamCommonProps<RawDatum>['dotSize']\n    dotColor?: StreamCommonProps<RawDatum>['dotColor']\n    dotBorderWidth?: StreamCommonProps<RawDatum>['dotBorderWidth']\n    dotBorderColor?: StreamCommonProps<RawDatum>['dotBorderColor']\n    borderColor?: StreamCommonProps<RawDatum>['borderColor']\n}) => {\n    const areaCurveFactory = useCurveInterpolation(curve)\n    const areaGenerator = useMemo(\n        () =>\n            area<StreamLayerDatum>()\n                .x(({ x }) => x)\n                .y0(({ y1 }) => y1)\n                .y1(({ y2 }) => y2)\n                .curve(areaCurveFactory),\n        [areaCurveFactory]\n    )\n\n    const stack = useMemo(\n        () =>\n            d3Stack<RawDatum, string | number>()\n                .keys(keys)\n                .offset(stackOffsetFromProp(offsetType))\n                .order(stackOrderFromProp(order)),\n        [keys, offsetType, order]\n    )\n\n    const [layers, xScale, yScale] = useMemo(() => {\n        const allMin: number[] = []\n        const allMax: number[] = []\n\n        const layers = stack(data).map(layer => {\n            return layer.map(point => {\n                allMin.push(point[0])\n                allMax.push(point[1])\n\n                return {\n                    ...point,\n                    value: point.data[layer.key] as number,\n                }\n            })\n        })\n\n        const minValue = Math.min(...allMin)\n        const maxValue = Math.max(...allMax)\n\n        const xScale = createPointScale(\n            { type: 'point' },\n            { all: Array.from({ length: data.length }, (_, i) => i), min: 0, max: data.length },\n            width\n        )\n        const yScale = createLinearScale(\n            { type: 'linear' },\n            { all: [minValue, maxValue], min: minValue, max: maxValue },\n            height,\n            'y'\n        )\n        return [layers, xScale, yScale]\n    }, [stack, data, width, height])\n\n    const theme = useTheme()\n    const getColor = useOrdinalColorScale<Omit<StreamLayerData, 'label' | 'color' | 'data'>>(\n        colors,\n        'id'\n    )\n    const getBorderColor = useInheritedColor<StreamLayerData>(borderColor, theme)\n\n    const getDotSize = useMemo(\n        () => (typeof dotSize === 'function' ? dotSize : () => dotSize),\n        [dotSize]\n    )\n    const getDotColor = useInheritedColor(dotColor, theme)\n    const getDotBorderWidth = useMemo(\n        () => (typeof dotBorderWidth === 'function' ? dotBorderWidth : () => dotBorderWidth),\n        [dotBorderWidth]\n    )\n    const getDotBorderColor = useInheritedColor(dotBorderColor, theme)\n\n    const getLabel = usePropertyAccessor<\n        Omit<StreamLayerData, 'label' | 'color' | 'data'>,\n        string | number\n    >(label)\n    const formatValue = useValueFormatter(valueFormat)\n\n    const enhancedLayers: StreamLayerData[] = useMemo(\n        () =>\n            layers.map((points, layerIndex) => {\n                const computedPoints: StreamLayerDatum[] = points.map((point, i) => ({\n                    layerId: keys[layerIndex],\n                    layerLabel: '',\n                    index: i,\n                    color: '',\n                    x: xScale(i) as number,\n                    value: point.value,\n                    formattedValue: formatValue(point.value),\n                    y1: yScale(point[0]),\n                    y2: yScale(point[1]),\n                }))\n\n                const layer: Omit<StreamLayerData, 'label' | 'color' | 'data'> = {\n                    id: keys[layerIndex] as string,\n                    path: areaGenerator(computedPoints) as string,\n                }\n\n                const layerWithComputedProperties: Omit<StreamLayerData, 'data'> = {\n                    ...layer,\n                    label: getLabel(layer),\n                    color: getColor(layer),\n                }\n\n                return {\n                    ...layerWithComputedProperties,\n                    data: computedPoints.map(point => {\n                        point.layerLabel = layerWithComputedProperties.label\n                        point.color = layerWithComputedProperties.color\n\n                        return point\n                    }),\n                }\n            }),\n        [layers, keys, getLabel, areaGenerator, getColor, xScale, yScale, formatValue]\n    )\n\n    const slices: StreamSliceData[] = useMemo(\n        () =>\n            Array.from({ length: data.length }, (_, i) => {\n                const sliceStack = enhancedLayers\n                    .map(layer => layer.data[i])\n                    .sort((a, b) => a.y2 - b.y2)\n\n                return {\n                    index: i,\n                    x: enhancedLayers[0].data[i].x,\n                    stack: sliceStack,\n                }\n            }),\n        [data.length, enhancedLayers]\n    )\n\n    const layerContext: StreamCustomLayerProps = useMemo(\n        () => ({\n            xScale,\n            yScale,\n            layers: enhancedLayers,\n            slices,\n        }),\n        [xScale, yScale, enhancedLayers, slices]\n    )\n\n    return {\n        xScale,\n        yScale,\n        layers: enhancedLayers,\n        slices,\n        getBorderColor,\n        getDotSize,\n        getDotColor,\n        getDotBorderWidth,\n        getDotBorderColor,\n        layerContext,\n    }\n}\n","import { createElement, Fragment, ReactNode } from 'react'\nimport {\n    Container,\n    SvgWrapper,\n    useDimensions,\n    // @ts-ignore\n    bindDefs,\n} from '@nivo/core'\nimport { Axes, Grid } from '@nivo/axes'\nimport { BoxLegendSvg } from '@nivo/legends'\nimport { StreamLayers } from './StreamLayers'\nimport { StreamDots } from './StreamDots'\nimport { StreamSlices } from './StreamSlices'\nimport { useStream } from './hooks'\nimport { svgDefaultProps } from './props'\nimport { StreamDatum, StreamLayerId, StreamSvgProps } from './types'\n\ntype InnerStreamProps<RawDatum extends StreamDatum> = Omit<\n    StreamSvgProps<RawDatum>,\n    'animate' | 'motionConfig' | 'renderWrapper' | 'theme'\n>\n\nconst InnerStream = <RawDatum extends StreamDatum>({\n    data,\n    keys,\n    label,\n    valueFormat,\n\n    offsetType,\n    order,\n    curve,\n\n    layers: chartLayers = svgDefaultProps.layers,\n\n    width,\n    height,\n    margin: partialMargin,\n\n    axisTop,\n    axisRight,\n    axisBottom = svgDefaultProps.axisBottom,\n    axisLeft = svgDefaultProps.axisLeft,\n    enableGridX = svgDefaultProps.enableGridX,\n    enableGridY = svgDefaultProps.enableGridY,\n\n    colors,\n    fillOpacity = svgDefaultProps.fillOpacity,\n    borderWidth = svgDefaultProps.borderWidth,\n    borderColor,\n    defs = svgDefaultProps.defs,\n    fill = svgDefaultProps.fill,\n\n    enableDots = svgDefaultProps.enableDots,\n    dotPosition = svgDefaultProps.dotPosition,\n    dotComponent = svgDefaultProps.dotComponent,\n    dotSize,\n    dotColor,\n    dotBorderWidth,\n    dotBorderColor,\n\n    isInteractive = svgDefaultProps.isInteractive,\n    tooltip = svgDefaultProps.tooltip,\n    enableStackTooltip = svgDefaultProps.enableStackTooltip,\n    stackTooltip = svgDefaultProps.stackTooltip,\n\n    legends = svgDefaultProps.legends,\n\n    role,\n    ariaLabel,\n    ariaLabelledBy,\n    ariaDescribedBy,\n}: InnerStreamProps<RawDatum>) => {\n    const { margin, innerWidth, innerHeight, outerWidth, outerHeight } = useDimensions(\n        width,\n        height,\n        partialMargin\n    )\n\n    const {\n        xScale,\n        yScale,\n        layers,\n        slices,\n        getBorderColor,\n        getDotSize,\n        getDotColor,\n        getDotBorderWidth,\n        getDotBorderColor,\n        layerContext,\n    } = useStream<RawDatum>({\n        width: innerWidth,\n        height: innerHeight,\n        data,\n        keys,\n        label,\n        valueFormat,\n        offsetType,\n        order,\n        curve,\n        colors,\n        borderColor,\n        dotSize,\n        dotColor,\n        dotBorderWidth,\n        dotBorderColor,\n    })\n\n    const boundDefs = bindDefs(defs, layers, fill)\n\n    const layerById: Record<StreamLayerId, ReactNode> = {\n        grid: null,\n        axes: null,\n        layers: null,\n        dots: null,\n        slices: null,\n        legends: null,\n    }\n\n    if (chartLayers.includes('grid')) {\n        layerById.grid = (\n            <Grid\n                key=\"grid\"\n                width={innerWidth}\n                height={innerHeight}\n                xScale={enableGridX ? xScale : null}\n                yScale={enableGridY ? yScale : null}\n            />\n        )\n    }\n\n    if (chartLayers.includes('axes')) {\n        layerById.axes = (\n            <Axes\n                key=\"axes\"\n                xScale={xScale}\n                yScale={yScale}\n                width={innerWidth}\n                height={innerHeight}\n                top={axisTop}\n                right={axisRight}\n                bottom={axisBottom}\n                left={axisLeft}\n            />\n        )\n    }\n\n    if (chartLayers.includes('layers')) {\n        layerById.layers = (\n            <StreamLayers<RawDatum>\n                key=\"layers\"\n                layers={layers}\n                fillOpacity={fillOpacity}\n                borderWidth={borderWidth}\n                getBorderColor={getBorderColor}\n                isInteractive={isInteractive}\n                tooltip={tooltip}\n            />\n        )\n    }\n\n    if (chartLayers.includes('dots') && enableDots) {\n        layerById.dots = (\n            <Fragment key=\"dots\">\n                {layers.map(layer => (\n                    <StreamDots\n                        key={layer.id}\n                        id={layer.id}\n                        color={layer.color}\n                        data={layer.data}\n                        dotComponent={dotComponent}\n                        position={dotPosition}\n                        getSize={getDotSize}\n                        getColor={getDotColor}\n                        getBorderWidth={getDotBorderWidth}\n                        getBorderColor={getDotBorderColor}\n                    />\n                ))}\n            </Fragment>\n        )\n    }\n\n    if (chartLayers.includes('slices') && isInteractive && enableStackTooltip) {\n        layerById.slices = (\n            <StreamSlices<RawDatum>\n                key=\"slices\"\n                slices={slices}\n                height={innerHeight}\n                tooltip={stackTooltip}\n            />\n        )\n    }\n\n    if (chartLayers.includes('legends')) {\n        layerById.legends = (\n            <Fragment key=\"legends\">\n                {legends.map((legend, i) => {\n                    const legendData = layers\n                        .map(layer => ({\n                            id: layer.id,\n                            label: layer.label,\n                            color: layer.color,\n                            fill: layer.fill,\n                        }))\n                        .reverse()\n\n                    return (\n                        <BoxLegendSvg\n                            key={i}\n                            {...legend}\n                            containerWidth={innerWidth}\n                            containerHeight={innerHeight}\n                            data={legendData}\n                        />\n                    )\n                })}\n            </Fragment>\n        )\n    }\n\n    return (\n        <SvgWrapper\n            width={outerWidth}\n            height={outerHeight}\n            margin={margin}\n            defs={boundDefs}\n            role={role}\n            ariaLabel={ariaLabel}\n            ariaLabelledBy={ariaLabelledBy}\n            ariaDescribedBy={ariaDescribedBy}\n        >\n            {chartLayers.map((layer, i) => {\n                if (typeof layer === 'function') {\n                    return <Fragment key={i}>{createElement(layer, layerContext)}</Fragment>\n                }\n\n                return layerById?.[layer] ?? null\n            })}\n        </SvgWrapper>\n    )\n}\n\nexport const Stream = <RawDatum extends StreamDatum>({\n    isInteractive = svgDefaultProps.isInteractive,\n    animate = svgDefaultProps.animate,\n    motionConfig = svgDefaultProps.motionConfig,\n    theme,\n    renderWrapper,\n    ...otherProps\n}: StreamSvgProps<RawDatum>) => (\n    <Container\n        {...{\n            animate,\n            isInteractive,\n            motionConfig,\n            renderWrapper,\n            theme,\n        }}\n    >\n        <InnerStream<RawDatum> isInteractive={isInteractive} {...otherProps} />\n    </Container>\n)\n","import { ResponsiveWrapper } from '@nivo/core'\nimport { StreamDatum, StreamSvgProps } from './types'\nimport { Stream } from './Stream'\n\nexport const ResponsiveStream = <RawDatum extends StreamDatum>(\n    props: Omit<StreamSvgProps<RawDatum>, 'height' | 'width'>\n) => (\n    <ResponsiveWrapper>\n        {({ width, height }) => <Stream<RawDatum> width={width} height={height} {...props} />}\n    </ResponsiveWrapper>\n)\n"],"names":["StreamLayer","_ref","layer","fillOpacity","borderWidth","getBorderColor","isInteractive","tooltip","_useTooltip","useTooltip","showTooltipFromEvent","hideTooltip","handleMouseHover","useCallback","event","createElement","_useMotionConfig","useMotionConfig","animate","springConfig","config","animatedPath","useAnimatedPath","path","animatedProps","useSpring","color","immediate","_jsx","jsx","animated","d","fill","stroke","strokeWidth","onMouseMove","undefined","onMouseEnter","onMouseLeave","StreamLayers","layers","children","map","i","getDotY","datum","position","y","y2","y1","StreamDots","data","dotComponent","getSize","getColor","getBorderWidth","_Fragment","key","x","size","borderColor","StreamSlicesItem","slice","height","_useState","useState","isHover","setIsHover","handleMouseLeave","_jsxs","transform","x1","x2","strokeOpacity","width","StreamSlices","slices","index","defaultProps","label","order","offsetType","curve","axisBottom","axisLeft","enableGridX","enableGridY","colors","scheme","from","modifiers","enableDots","dotPosition","radius","circle","cx","cy","r","dotSize","dotColor","dotBorderWidth","dotBorderColor","BasicTooltip","id","enableChip","enableStackTooltip","stackTooltip","rows","useMemo","stack","p","Chip","layerId","layerLabel","formattedValue","TableTooltip","legends","legendLabel","role","svgDefaultProps","_extends","defs","motionConfig","isFocusable","useStream","keys","_ref$label","valueFormat","_ref$offsetType","_ref$order","_ref$curve","_ref$colors","_ref$borderColor","_ref$dotSize","_ref$dotColor","_ref$dotBorderWidth","_ref$dotBorderColor","areaCurveFactory","useCurveInterpolation","areaGenerator","area","_ref2","y0","_ref3","_ref4","d3Stack","offset","stackOffsetFromProp","stackOrderFromProp","_useMemo","allMin","allMax","point","push","value","minValue","Math","min","apply","maxValue","max","createPointScale","type","all","Array","length","_","createLinearScale","xScale","yScale","theme","useTheme","useOrdinalColorScale","useInheritedColor","getDotSize","getDotColor","getDotBorderWidth","getDotBorderColor","getLabel","usePropertyAccessor","formatValue","useValueFormatter","enhancedLayers","points","layerIndex","computedPoints","layerWithComputedProperties","sliceStack","sort","a","b","layerContext","InnerStream","_ref$layers","chartLayers","partialMargin","margin","axisTop","axisRight","_ref$axisBottom","_ref$axisLeft","_ref$enableGridX","_ref$enableGridY","_ref$fillOpacity","_ref$borderWidth","_ref$defs","_ref$fill","_ref$enableDots","_ref$dotPosition","_ref$dotComponent","_ref$isInteractive","_ref$tooltip","_ref$enableStackToolt","_ref$stackTooltip","_ref$legends","ariaLabel","ariaLabelledBy","ariaDescribedBy","_useDimensions","useDimensions","innerWidth","innerHeight","outerWidth","outerHeight","_useStream","boundDefs","bindDefs","layerById","grid","axes","dots","includes","Grid","Axes","top","right","bottom","left","Fragment","legend","legendData","reverse","BoxLegendSvg","containerWidth","containerHeight","SvgWrapper","_layerById$layer","Stream","_ref2$isInteractive","_ref2$animate","_ref2$motionConfig","renderWrapper","otherProps","_objectWithoutPropertiesLoose","_excluded","Container","props","ResponsiveWrapper"],"mappings":"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"}