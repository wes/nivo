import{useMemo as n,createElement as t}from"react";import{animated as e,useSpring as i,useTransition as r,to as a}from"@react-spring/web";import{useTheme as o,useMotionConfig as c,positionFromAngle as l,degreesToRadians as u,normalizeAngle as d}from"@nivo/core";import{getScaleTicks as s}from"@nivo/scales";import{ArcLine as f}from"@nivo/arcs";import{jsxs as g,jsx as y,Fragment as p}from"react/jsx-runtime";function m(){return m=Object.assign?Object.assign.bind():function(n){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(n[i]=e[i])}return n},m.apply(this,arguments)}var x=function(n){var t=n.label,i=n.animated,r=o();return g(e.g,{opacity:i.opacity,children:[y(e.line,{x1:i.x1,y1:i.y1,x2:i.x2,y2:i.y2,style:r.axis.ticks.line}),y(e.text,{dx:i.textX,dy:i.textY,dominantBaseline:"central",style:r.axis.ticks.text,textAnchor:"middle",children:t})]})},h=function(n,t,e){var i=l(u(n),t),r=l(u(n),e);return{x1:i.x,y1:i.y,x2:r.x,y2:r.y}},v=function(n,t){var e=l(u(n),t);return{textX:e.x,textY:e.y}},k=function(e){var a=e.type,l=e.center,u=void 0===l?[0,0]:l,d=e.radius,p=e.startAngle,k=e.endAngle,A=e.scale,b=e.tickSize,X=void 0===b?5:b,w=e.tickPadding,R=void 0===w?12:w,O=e.tickComponent,j=void 0===O?x:O,M=p-90,S=k-90,C=o(),P=c(),z=P.animate,B=P.config,G=i({radius:d,startAngle:M,endAngle:S,opacity:1,immediate:!z,config:B}),Y=n((function(){return s(A).map((function(n,t){return{key:t,label:n,angle:A(n)-90}}))}),[A]),q="inner"===a?d-X:d+X,D="inner"===a?q-R:q+R,E=r(Y,{keys:function(n){return n.key},initial:function(n){return m({},h(n.angle,d,q),v(n.angle,D),{opacity:1})},from:function(n){return m({},h(n.angle,d,q),v(n.angle,D),{opacity:0})},enter:function(n){return m({},h(n.angle,d,q),v(n.angle,D),{opacity:1})},update:function(n){return m({},h(n.angle,d,q),v(n.angle,D),{opacity:1})},leave:function(n){return m({},h(n.angle,d,q),v(n.angle,D),{opacity:0})},immediate:!z,config:B});return g("g",{transform:"translate("+u[0]+", "+u[1]+")",children:[y(f,m({animated:G},C.axis.domain.line,{fill:"none"})),E((function(n,e){return t(j,{key:e.key,label:e.label,animated:n})}))]})},A=function(t){var i=t.scale,a=t.innerRadius,l=t.outerRadius,u=o(),d=n((function(){return s(i).map((function(n,t){return{id:t,angle:i(n)-90}}))}),[i]),f=c(),g=f.animate,x=f.config,h=r(d,{keys:function(n){return n.id},initial:function(n){return{angle:n.angle,opacity:1}},from:function(n){return{angle:n.angle,opacity:0}},enter:function(n){return{angle:n.angle,opacity:1}},update:function(n){return{angle:n.angle,opacity:1}},leave:function(n){return{angle:n.angle,opacity:0}},config:x,immediate:!g});return y(p,{children:h((function(n,t){return y(e.g,{transform:n.angle.to((function(n){return"rotate("+n+")"})),opacity:n.opacity,children:y("line",m({x1:a,x2:l},u.grid.line))},t.id)}))})},b=function(t){var e=t.scale,i=t.startAngle,a=t.endAngle,l=o(),u=i-90,d=a-90,g=n((function(){return s(e).map((function(n,t){var i=e(n);return"bandwidth"in e&&(i+=e.bandwidth()/2),{id:t,radius:i}}))}),[e]),x=c(),h=x.animate,v=x.config,k=r(g,{keys:function(n){return n.id},initial:function(n){return{radius:n.radius,startAngle:u,endAngle:d,opacity:1}},from:function(n){return{radius:n.radius,startAngle:u,endAngle:d,opacity:0}},enter:function(n){return{radius:n.radius,startAngle:u,endAngle:d,opacity:1}},update:function(n){return{radius:n.radius,startAngle:u,endAngle:d,opacity:1}},leave:function(n){return{radius:n.radius,startAngle:u,endAngle:d,opacity:0}},config:v,immediate:!h});return y(p,{children:k((function(n,t){return y(f,m({animated:n},l.grid.line,{strokeOpacity:n.opacity,fill:"none"}),t.id)}))})},X=function(n){var t=n.center,e=n.enableRadialGrid,i=n.enableCircularGrid,r=n.angleScale,a=n.radiusScale,o=n.startAngle,c=n.endAngle,l=Math.min.apply(Math,a.range()),u=Math.max.apply(Math,a.range());return g("g",{transform:"translate("+t[0]+","+t[1]+")",children:[e&&y(A,{scale:r,innerRadius:l,outerRadius:u}),i&&y(b,{scale:a,startAngle:o,endAngle:c})]})},w=function(n){var t=n.label,i=n.textAnchor,r=n.animated,c=o();return g(e.g,{opacity:r.opacity,transform:a([r.y,r.rotation],(function(n,t){return"translate("+n+", 0) rotate("+t+")"})),children:[y(e.line,{x2:r.length,style:c.axis.ticks.line}),y(e.text,{dx:r.textX,textAnchor:i,dominantBaseline:"central",style:c.axis.ticks.text,children:t})]})},R=function(a){var o,l,u,f,g=a.type,p=a.center,m=a.angle,x=a.scale,h=a.tickSize,v=void 0===h?5:h,k=a.tickPadding,A=void 0===k?5:k,b=a.tickRotation,X=void 0===b?0:b,R=a.tickComponent,O=void 0===R?w:R,j=d(m);"start"===g?(f=90+X,j<=90?(u=(l=-v)-A,o="end"):j<270?(u=(l=v)+A,o="start",f-=180):(u=(l=-v)-A,o="end")):(f=90+X,j<90?(u=(l=v)+A,o="start"):j<270?(u=(l=-v)-A,o="end",f-=180):(u=(l=v)+A,o="start"));var M=n((function(){return s(x).map((function(n,t){var e=x(n);return"bandwidth"in x&&(e+=x.bandwidth()/2),{key:t,label:n,position:e}}))}),[x]),S=c(),C=S.animate,P=S.config,z=i({rotation:m-90,immediate:!C,config:P}),B=r(M,{keys:function(n){return n.key},initial:function(n){return{y:n.position,textX:u,rotation:f,length:l,opacity:1}},from:function(n){return{y:n.position,textX:u,rotation:f,length:l,opacity:0}},enter:function(n){return{y:n.position,textX:u,rotation:f,length:l,opacity:1}},update:function(n){return{y:n.position,textX:u,rotation:f,length:l,opacity:1}},leave:function(n){return{y:n.position,textX:u,rotation:f,length:l,opacity:0}},immediate:!C,config:P});return y("g",{transform:"translate("+p[0]+", "+p[1]+")",children:y(e.g,{transform:z.rotation.to((function(n){return"rotate("+n+")"})),children:B((function(n,e){return t(O,{key:e.key,label:e.label,y:e.position,textX:u,rotation:f,length:l,textAnchor:o,animated:n})}))})})};export{k as CircularAxis,X as PolarGrid,R as RadialAxis};
//# sourceMappingURL=nivo-polar-axes.es.js.map
