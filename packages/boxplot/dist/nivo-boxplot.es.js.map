{"version":3,"file":"nivo-boxplot.es.js","sources":["../src/BoxPlotAnnotations.tsx","../src/BoxPlotLegends.tsx","../src/BoxPlotItem.tsx","../src/BoxPlotTooltip.tsx","../src/props.ts","../src/compute/generation.ts","../src/compute/common.ts","../src/compute/stratification.ts","../src/hooks.ts","../src/compute/legends.ts","../src/BoxPlot.tsx","../src/ResponsiveBoxPlot.tsx"],"sourcesContent":["import { Annotation, useAnnotations } from '@nivo/annotations'\nimport { BoxPlotAnnotationsProps, ComputedBoxPlotSummary } from './types'\n\nconst getPosition = (boxPlot: ComputedBoxPlotSummary) => ({\n    x: boxPlot.x + boxPlot.width / 2,\n    y: boxPlot.y + boxPlot.height / 2,\n})\n\nconst getDimensions = ({ width, height }: { width: number; height: number }) => ({\n    width,\n    height,\n    size: Math.max(width, height),\n})\n\nexport const BoxPlotAnnotations = ({ boxPlots, annotations }: BoxPlotAnnotationsProps) => {\n    const boundAnnotations = useAnnotations({\n        data: boxPlots,\n        annotations,\n        getPosition,\n        getDimensions,\n    })\n\n    return (\n        <>\n            {boundAnnotations.map((annotation, i) => (\n                <Annotation key={i} {...annotation} />\n            ))}\n        </>\n    )\n}\n","import { BoxLegendSvg, LegendProps } from '@nivo/legends'\nimport { LegendData } from './types'\n\ninterface BoxPlotLegendsProps {\n    width: number\n    height: number\n    legends: [LegendProps, LegendData[]][]\n}\n\nexport const BoxPlotLegends = ({ width, height, legends }: BoxPlotLegendsProps) => (\n    <>\n        {legends.map(([legend, data], i) => {\n            // Advanced feature:\n            // Allow a legend spec to carry its own custom content via 'legend.data'\n            // Or fallback on content provided via 'data'\n            return (\n                <BoxLegendSvg\n                    key={i}\n                    {...legend}\n                    containerWidth={width}\n                    containerHeight={height}\n                    data={legend.data ?? data}\n                />\n            )\n        })}\n    </>\n)\n","import { createElement, MouseEvent, useCallback, useMemo } from 'react'\nimport { animated, SpringValue } from '@react-spring/web'\nimport { useTooltip } from '@nivo/tooltip'\nimport { BoxPlotDatum, BoxPlotItemProps } from './types'\n\nconst BoxPlotItemWhisker = ({\n    distStart,\n    distEnd,\n    whiskerEndSize,\n    whiskerColor,\n    whiskerWidth,\n}: {\n    distStart: SpringValue<number>\n    distEnd: SpringValue<number>\n    whiskerEndSize: number\n    whiskerColor: SpringValue<string>\n    whiskerWidth: number\n}) => {\n    return (\n        <>\n            <animated.line\n                x1={0}\n                x2={0}\n                y1={distStart}\n                y2={distEnd}\n                strokeWidth={whiskerWidth}\n                stroke={whiskerColor}\n            />\n            {whiskerEndSize > 0 ? (\n                <animated.line\n                    x1={-whiskerEndSize}\n                    x2={whiskerEndSize}\n                    y1={distEnd}\n                    y2={distEnd}\n                    strokeWidth={whiskerWidth}\n                    stroke={whiskerColor}\n                />\n            ) : null}\n        </>\n    )\n}\n\nexport const BoxPlotItem = <RawDatum extends BoxPlotDatum>({\n    boxPlot,\n    layout,\n    animatedProps: {\n        borderColor,\n        medianColor,\n        whiskerColor,\n        color,\n        opacity,\n        transform,\n        valueInterval,\n        valueDistance0,\n        valueDistance1,\n        valueDistance3,\n        valueDistance4,\n    },\n    borderRadius,\n    borderWidth,\n    medianWidth,\n    whiskerWidth,\n    whiskerEndSize,\n    isInteractive,\n    onClick,\n    onMouseEnter,\n    onMouseLeave,\n    setActiveItem,\n    tooltip,\n    isFocusable,\n    ariaLabel,\n    ariaLabelledBy,\n    ariaDescribedBy,\n}: BoxPlotItemProps<RawDatum>) => {\n    const { showTooltipFromEvent, hideTooltip } = useTooltip()\n\n    const vertical = layout === 'vertical'\n    const bandwidth = vertical ? boxPlot.width : boxPlot.height\n\n    const renderTooltip = useMemo(() => () => createElement(tooltip, boxPlot), [tooltip, boxPlot])\n\n    const handleClick = useCallback(\n        (event: MouseEvent<SVGRectElement>) => {\n            onClick?.(boxPlot, event)\n        },\n        [boxPlot, onClick]\n    )\n    const handleTooltip = useCallback(\n        (event: MouseEvent<SVGRectElement>) => showTooltipFromEvent(renderTooltip(), event),\n        [showTooltipFromEvent, renderTooltip]\n    )\n    const handleMouseEnter = useCallback(\n        (event: MouseEvent<SVGRectElement>) => {\n            onMouseEnter?.(boxPlot, event)\n            showTooltipFromEvent(renderTooltip(), event)\n            setActiveItem(boxPlot)\n        },\n        [boxPlot, onMouseEnter, showTooltipFromEvent, renderTooltip, setActiveItem]\n    )\n    const handleMouseLeave = useCallback(\n        (event: MouseEvent<SVGRectElement>) => {\n            onMouseLeave?.(boxPlot, event)\n            hideTooltip()\n            setActiveItem(null)\n        },\n        [boxPlot, hideTooltip, onMouseLeave, setActiveItem]\n    )\n    const handleBlur = useCallback(() => {\n        hideTooltip()\n    }, [hideTooltip])\n\n    return (\n        <animated.g\n            data-key={`boxplot.${boxPlot.key}`}\n            transform={transform}\n            opacity={opacity}\n            onMouseEnter={isInteractive ? handleMouseEnter : undefined}\n            onMouseMove={isInteractive ? handleTooltip : undefined}\n            onMouseLeave={isInteractive ? handleMouseLeave : undefined}\n            onClick={isInteractive ? handleClick : undefined}\n            onBlur={isInteractive && isFocusable ? handleBlur : undefined}\n            focusable={isFocusable}\n            tabIndex={isFocusable ? 0 : undefined}\n            aria-label={ariaLabel ? ariaLabel(boxPlot) : undefined}\n            aria-labelledby={ariaLabelledBy ? ariaLabelledBy(boxPlot) : undefined}\n            aria-describedby={ariaDescribedBy ? ariaDescribedBy(boxPlot) : undefined}\n        >\n            <animated.rect\n                x={-bandwidth / 2}\n                y={vertical ? valueDistance3 : valueDistance1}\n                width={bandwidth}\n                height={valueInterval}\n                rx={borderRadius}\n                ry={borderRadius}\n                fill={boxPlot.fill ?? color}\n                strokeWidth={borderWidth}\n                stroke={borderColor}\n            />\n            <animated.line\n                x1={-bandwidth / 2}\n                x2={bandwidth / 2}\n                y1={0}\n                y2={0}\n                strokeWidth={medianWidth}\n                stroke={medianColor}\n            />\n            <BoxPlotItemWhisker\n                distStart={valueDistance1}\n                distEnd={valueDistance0}\n                whiskerEndSize={(whiskerEndSize * bandwidth) / 2}\n                whiskerColor={whiskerColor}\n                whiskerWidth={whiskerWidth}\n            />\n            <BoxPlotItemWhisker\n                distStart={valueDistance3}\n                distEnd={valueDistance4}\n                whiskerEndSize={(whiskerEndSize * bandwidth) / 2}\n                whiskerColor={whiskerColor}\n                whiskerWidth={whiskerWidth}\n            />\n        </animated.g>\n    )\n}\n","import { BoxPlotSummaryFormatted, BoxPlotTooltipProps, BoxPlotSummary } from './types'\nimport { Chip } from '@nivo/tooltip'\nimport { memo } from 'react'\nimport { useTheme, CompleteTheme } from '@nivo/core'\n\ninterface BoxPlotSummaryTooltipProps {\n    label: string\n    formatted: BoxPlotSummaryFormatted\n    color?: string\n    enableChip?: boolean\n}\n\ninterface Translation {\n    [key: string]: number | string\n}\n\nexport const defaultTranslation = {\n    n: 'n',\n    mean: 'mean',\n    min: 'min',\n    max: 'max',\n    Summary: 'Summary',\n    Quantiles: 'Quantiles',\n}\n\ntype ExtendedTheme = CompleteTheme & {\n    translation: Translation\n}\n\nconst hasTranslation = (theme: CompleteTheme | ExtendedTheme): theme is ExtendedTheme => {\n    return 'translation' in theme\n}\n\nexport const BoxPlotSummaryTooltip = memo<BoxPlotSummaryTooltipProps>(\n    ({ label, formatted, enableChip = false, color }) => {\n        const theme = useTheme()\n        let translation = defaultTranslation\n        if (hasTranslation(theme)) {\n            translation = {\n                ...defaultTranslation,\n                ...theme.translation,\n            }\n        }\n\n        const quantiles = formatted.quantiles.map((q, i) => (\n            <div key={'quantile.' + i}>\n                {q}%: <strong>{formatted.values[i]}</strong>\n            </div>\n        ))\n        return (\n            <div style={theme.tooltip.container}>\n                <div style={theme.tooltip.basic}>\n                    {enableChip && <Chip color={color ?? ''} style={theme.tooltip.chip} />}\n                    {label}\n                </div>\n                <div style={{ display: 'flex', marginTop: '1rem' }}>\n                    <div style={{ marginRight: '2rem' }}>\n                        <div>\n                            {translation.n}: <strong>{formatted.n}</strong>\n                        </div>\n                        <div style={{ marginTop: '1rem' }}>{translation.Summary}</div>\n                        <div>\n                            {translation.mean}: <strong>{formatted.mean}</strong>\n                        </div>\n                        <div>\n                            {translation.min}: <strong>{formatted.extrema[0]}</strong>\n                        </div>\n                        <div>\n                            {translation.max}: <strong>{formatted.extrema[1]}</strong>\n                        </div>\n                    </div>\n                    <div>\n                        <div>{translation.Quantiles}</div>\n                        {quantiles}\n                    </div>\n                </div>\n            </div>\n        )\n    }\n)\n\nexport const BoxPlotTooltip = ({ color, label, formatted }: BoxPlotTooltipProps) => {\n    return (\n        <BoxPlotSummaryTooltip\n            label={label}\n            formatted={formatted}\n            enableChip={true}\n            color={color}\n        />\n    )\n}\n\nexport const BoxPlotTooltipLabel = (datum: BoxPlotSummary) => {\n    if (datum.subGroup) {\n        return datum.group + ' - ' + datum.subGroup\n    }\n    return datum.group\n}\n","import { BoxPlotItem } from './BoxPlotItem'\nimport { BoxPlotTooltip, BoxPlotTooltipLabel } from './BoxPlotTooltip'\nimport { InheritedColorConfig, OrdinalColorScaleConfig } from '@nivo/colors'\nimport { ScaleBandSpec, ScaleLinearSpec } from '@nivo/scales'\nimport { ComputedBoxPlotSummary } from './types'\n\nexport const defaultProps = {\n    value: 'value',\n    groupBy: 'group',\n    groups: null,\n    subGroupBy: null,\n    subGroups: null,\n\n    quantiles: [0.1, 0.25, 0.5, 0.75, 0.9],\n\n    layout: 'vertical' as const,\n\n    minValue: 'auto' as const,\n    maxValue: 'auto' as const,\n\n    valueScale: { type: 'linear' } as ScaleLinearSpec,\n    indexScale: { type: 'band', round: true } as ScaleBandSpec,\n\n    padding: 0.1,\n    innerPadding: 6,\n\n    opacity: 1,\n    activeOpacity: 1,\n    inactiveOpacity: 0.25,\n\n    axisBottom: {},\n    axisLeft: {},\n    enableGridX: false,\n    enableGridY: true,\n\n    valueFormat: (value: number) => value.toPrecision(4),\n\n    colorBy: 'subGroup' as const,\n    colors: { scheme: 'nivo' } as OrdinalColorScaleConfig,\n\n    borderRadius: 0,\n    borderWidth: 0,\n    borderColor: { from: 'color' } as InheritedColorConfig<ComputedBoxPlotSummary>,\n\n    medianWidth: 3,\n    medianColor: {\n        from: 'color',\n        modifiers: [['darker', 2.0]],\n    } as InheritedColorConfig<ComputedBoxPlotSummary>,\n\n    whiskerWidth: 2,\n    whiskerColor: {\n        from: 'color',\n    } as InheritedColorConfig<ComputedBoxPlotSummary>,\n    whiskerEndSize: 0,\n\n    isInteractive: true,\n    tooltip: BoxPlotTooltip,\n    tooltipLabel: BoxPlotTooltipLabel,\n\n    legends: [],\n    annotations: [],\n    markers: [],\n}\n\nexport const svgDefaultProps = {\n    ...defaultProps,\n    layers: ['grid', 'axes', 'boxPlots', 'markers', 'legends', 'annotations'],\n    boxPlotComponent: BoxPlotItem,\n\n    defs: [],\n    fill: [],\n\n    animate: true,\n    motionConfig: 'default',\n\n    role: 'img',\n    isFocusable: false,\n}\n","import {\n    Scale,\n    ScaleBand,\n    computeScale,\n    ScaleBandSpec,\n    ScaleLinearSpec,\n    ScaleLogSpec,\n    ScaleSymlogSpec,\n    ScaleTimeSpec,\n} from '@nivo/scales'\nimport { BoxPlotSummary, ComputedBoxPlotSummary } from '../types'\nimport { getIndexScale } from './common'\n\ntype Params = {\n    data: BoxPlotSummary[]\n    formatValue: (value: number) => string\n    getTooltipLabel: (datum: BoxPlotSummary) => string\n    innerPadding: number\n    groups: string[]\n    subGroups: string[]\n    indexScale: ScaleBand<string>\n    valueScale: Scale<number, number>\n    bandwidth: number\n    layout: 'vertical' | 'horizontal'\n}\n\nconst generateComputedBoxPlotSummaries = ({\n    data,\n    getTooltipLabel,\n    innerPadding = 0,\n    groups,\n    indexScale,\n    valueScale,\n    formatValue,\n    bandwidth,\n    layout,\n}: Params): ComputedBoxPlotSummary[] => {\n    if (bandwidth === 0) {\n        return Array<ComputedBoxPlotSummary>()\n    }\n    const vertical = layout === 'vertical'\n    return data.map(datum => {\n        const { group, subGroup, groupIndex, subGroupIndex, values } = datum\n        const indexCoordinate =\n            (indexScale(groups[groupIndex]) ?? 0) +\n            bandwidth * subGroupIndex +\n            innerPadding * subGroupIndex\n        const key = `${groupIndex}.${subGroupIndex}`\n        const coords = values.map(valueScale).map(v => v ?? 0)\n        const intervals = [0, 1, 2, 3].map(i => Math.abs(coords[i + 1] - coords[i]) ?? 0)\n        // top-left of rectangle and width/height depend on the layout\n        // (this conditional inside the loop is not ideal, but typical loops will be short)\n        const position = vertical\n            ? {\n                  x: indexCoordinate,\n                  y: valueScale(datum.values[3]) ?? 0,\n                  width: bandwidth,\n                  height: intervals[1] + intervals[2],\n              }\n            : {\n                  x: valueScale(datum.values[1]) ?? 0,\n                  y: indexCoordinate,\n                  width: intervals[1] + intervals[2],\n                  height: bandwidth,\n              }\n        return {\n            key,\n            group,\n            subGroup,\n            data: datum,\n            formatted: {\n                n: String(datum.n),\n                mean: formatValue(datum.mean),\n                extrema: datum.extrema.map(formatValue),\n                values: datum.values.map(formatValue),\n                quantiles: datum.quantiles.map(v => String(100 * v)),\n            },\n            ...position,\n            coordinates: {\n                index: indexCoordinate,\n                values: values.map(v => valueScale(v) ?? 0),\n            },\n            bandwidth,\n            label: getTooltipLabel(datum),\n            layout,\n        } as ComputedBoxPlotSummary\n    })\n}\n\nexport const generateBoxPlots = ({\n    data,\n    layout,\n    groups,\n    subGroups,\n    formatValue,\n    minValue,\n    maxValue,\n    width,\n    height,\n    padding,\n    innerPadding,\n    valueScale: valueScaleConfig,\n    indexScale: indexScaleConfig,\n    getTooltipLabel,\n}: {\n    data: BoxPlotSummary[]\n    layout: string\n    groups: string[] | null\n    subGroups: string[] | null\n    formatValue: (value: number) => string\n    minValue: 'auto' | number\n    maxValue: 'auto' | number\n    width: number\n    height: number\n    padding: number\n    innerPadding: number\n    valueScale: ScaleLinearSpec | ScaleLogSpec | ScaleSymlogSpec | ScaleTimeSpec\n    indexScale: ScaleBandSpec\n    getTooltipLabel: (datum: BoxPlotSummary) => string\n}) => {\n    const [axis, otherAxis, size] =\n        layout === 'vertical' ? (['y', 'x', width] as const) : (['x', 'y', height] as const)\n    const indexScale = getIndexScale(groups ?? [], padding, indexScaleConfig, size, otherAxis)\n\n    const valueScaleSpec = {\n        max: maxValue,\n        min: minValue,\n        ...valueScaleConfig,\n    }\n\n    const values = data.map((datum: BoxPlotSummary) => datum.values).flat()\n    const min = values.reduce((acc: number, value: number) => Math.min(acc, value), Infinity)\n    const max = values.reduce((acc: number, value: number) => Math.max(acc, value), -Infinity)\n\n    const valueScale = computeScale(\n        valueScaleSpec as ScaleLinearSpec | ScaleLogSpec | ScaleSymlogSpec | ScaleTimeSpec,\n        { all: [min, max], min, max },\n        axis === 'x' ? width : height,\n        axis\n    )\n\n    const [xScale, yScale] =\n        layout === 'vertical' ? [indexScale, valueScale] : [valueScale, indexScale]\n\n    const nSubGroups = Math.max(1, subGroups ? subGroups.length : 1)\n    const bandwidth = (indexScale.bandwidth() - innerPadding * (nSubGroups - 1)) / nSubGroups\n\n    const params = {\n        data,\n        groups,\n        subGroups,\n        getTooltipLabel,\n        innerPadding,\n        indexScale,\n        valueScale,\n        formatValue,\n        bandwidth,\n        layout,\n    } as Params\n    const boxPlots = generateComputedBoxPlotSummaries(params)\n\n    return { xScale, yScale, boxPlots }\n}\n","import { ScaleBandSpec, ScaleBand, computeScale } from '@nivo/scales'\n\n/**\n * Generates indexed scale.\n */\nexport const getIndexScale = (\n    groups: string[],\n    padding: number,\n    indexScale: ScaleBandSpec,\n    size: number,\n    axis: 'x' | 'y'\n) => {\n    return (\n        computeScale(indexScale, { all: groups, min: 0, max: 0 }, size, axis) as ScaleBand<string>\n    ).padding(padding)\n}\n","import { BoxPlotDatum, BoxPlotCommonProps, BoxPlotSummary } from '../types'\nimport { defaultProps } from '../props'\n\n/** stratify an array of raw data objects into an array of arrays;\n * each array will create one box plot */\nexport const stratifyData = <RawDatum extends BoxPlotDatum>({\n    data,\n    groups = defaultProps.groups,\n    getGroup,\n    subGroups = defaultProps.subGroups,\n    getSubGroup,\n}: {\n    data: RawDatum[]\n    groups?: BoxPlotCommonProps<RawDatum>['groups']\n    getGroup: ((datum: RawDatum) => string) | null\n    subGroups?: BoxPlotCommonProps<RawDatum>['subGroups']\n    getSubGroup: ((datum: RawDatum) => string) | null\n}) => {\n    const groupsMap = {} as BoxPlotDatum\n    if (groups) {\n        groups.map((g, i) => (groupsMap[g] = i))\n    }\n    const subGroupsMap = {} as BoxPlotDatum\n    if (subGroups) {\n        subGroups.map((sg, i) => (subGroupsMap[sg] = i))\n    }\n\n    const nGroups = Math.max(1, groups ? groups.length : 1)\n    const nSubGroups = Math.max(1, subGroups ? subGroups.length : 1)\n    const n = nGroups * nSubGroups\n    const result = Array(n)\n        .fill([])\n        .map(() => Array<RawDatum>())\n    data.forEach((d: RawDatum) => {\n        const groupIndex = getGroup ? Number(groupsMap[getGroup(d)]) : 0\n        const subGroupIndex = getSubGroup ? Number(subGroupsMap[getSubGroup(d)] ?? 0) : 0\n        const index = groupIndex * nSubGroups + subGroupIndex\n        if (index >= 0) {\n            result[index].push(d)\n        }\n    })\n    return result\n}\n\nconst getQuantile = (values: number[], quantile = 0.5) => {\n    const realIndex = (values.length - 1) * Math.max(0, Math.min(1, quantile))\n    const intIndex = Math.floor(realIndex)\n    if (realIndex === intIndex) return values[intIndex]\n    const v1 = values[intIndex],\n        v2 = values[intIndex + 1]\n    return v1 + (v2 - v1) * (realIndex - intIndex)\n}\n\nconst getMean = (values: number[]) => {\n    const sum = values.reduce((acc, x) => acc + x, 0)\n    return sum / values.length\n}\n\nconst isPrecomputedDistribution = <RawDatum>(\n    datum: RawDatum | Omit<BoxPlotSummary, 'groupIndex' | 'subGroupIndex'>\n): datum is Omit<BoxPlotSummary, 'groupIndex' | 'subGroupIndex'> => {\n    const preComputedKeys = ['values', 'extrema', 'mean', 'quantiles', 'group', 'subGroup', 'n']\n    return preComputedKeys.every(k => k in (datum as object))\n}\n\nexport const summarizeDistribution = <RawDatum extends BoxPlotDatum>({\n    data,\n    getValue,\n    groups,\n    subGroups,\n    groupIndex,\n    subGroupIndex,\n    quantiles,\n}: {\n    data: RawDatum[]\n    getValue: (datum: RawDatum) => unknown\n    groups: string[] | null\n    subGroups: string[] | null\n    groupIndex: number\n    subGroupIndex: number\n    quantiles: number[]\n}) => {\n    // accept a precomputed summary representation if it has all the required keys\n    if (data.length === 1 && isPrecomputedDistribution(data[0])) {\n        return {\n            groupIndex: groupIndex,\n            subGroupIndex: subGroupIndex,\n            ...data[0],\n        } as BoxPlotSummary\n    }\n    // compute the summary representation from raw data using quantiles\n    const values = data.map(v => Number(getValue(v))) as number[]\n    values.sort((a, b) => a - b)\n    return {\n        group: groups ? groups[groupIndex] : '',\n        groupIndex: groupIndex,\n        subGroup: subGroups ? subGroups[subGroupIndex] : '',\n        subGroupIndex: subGroupIndex,\n        n: values.length,\n        extrema: [values[0], values[values.length - 1]],\n        quantiles: quantiles,\n        values: quantiles.map(q => getQuantile(values, q)),\n        mean: getMean(values),\n    } as BoxPlotSummary\n}\n","import { useMemo, useState } from 'react'\nimport { SpringConfig, useTransition } from '@react-spring/web'\nimport { useInheritedColor, useOrdinalColorScale } from '@nivo/colors'\nimport { PropertyAccessor, usePropertyAccessor, useTheme, useValueFormatter } from '@nivo/core'\nimport {\n    BoxPlotCommonProps,\n    BoxPlotDatum,\n    BoxPlotItemProps,\n    BoxPlotSummary,\n    ComputedBoxPlotSummary,\n    DataProps,\n    LegendData,\n} from './types'\nimport { defaultProps } from './props'\nimport { generateBoxPlots, getLegendData, stratifyData, summarizeDistribution } from './compute'\nimport { LegendProps } from '@nivo/legends'\n\nexport const useLevels = <RawDatum extends BoxPlotDatum>(\n    levels: string[] | null,\n    data: RawDatum[],\n    by: PropertyAccessor<RawDatum, string> | null\n) => {\n    const getLevel = usePropertyAccessor(by ?? 'id')\n    if (levels) return levels\n    if (!by) return null\n    const result = new Set(data.map((d: RawDatum) => getLevel(d)))\n    return Array.from(result)\n}\n\nexport const useBoxPlot = <RawDatum extends BoxPlotDatum>({\n    data,\n    value,\n    groupBy,\n    groups = defaultProps.groups,\n    subGroupBy = defaultProps.subGroupBy,\n    subGroups = defaultProps.subGroups,\n    quantiles = defaultProps.quantiles,\n    width,\n    height,\n    layout,\n    minValue,\n    maxValue,\n    valueScale = defaultProps.valueScale,\n    indexScale = defaultProps.indexScale,\n    padding = defaultProps.padding,\n    innerPadding = defaultProps.innerPadding,\n    colorBy = defaultProps.colorBy,\n    colors = defaultProps.colors,\n    opacity,\n    activeOpacity,\n    inactiveOpacity,\n    borderColor,\n    medianColor,\n    whiskerColor,\n    legendLabel,\n    tooltipLabel,\n    valueFormat = defaultProps.valueFormat,\n    legends = defaultProps.legends,\n}: {\n    data: DataProps<RawDatum>['data']\n    width: number\n    height: number\n} & Pick<\n    BoxPlotCommonProps<RawDatum>,\n    | 'value'\n    | 'groupBy'\n    | 'groups'\n    | 'subGroupBy'\n    | 'subGroups'\n    | 'quantiles'\n    | 'layout'\n    | 'minValue'\n    | 'maxValue'\n    | 'valueScale'\n    | 'indexScale'\n    | 'padding'\n    | 'innerPadding'\n    | 'colorBy'\n    | 'colors'\n    | 'opacity'\n    | 'activeOpacity'\n    | 'inactiveOpacity'\n    | 'borderColor'\n    | 'medianColor'\n    | 'whiskerColor'\n    | 'legendLabel'\n    | 'tooltipLabel'\n    | 'valueFormat'\n    | 'legends'\n>) => {\n    // ensure that groups and subGroups are defined\n    groups = useLevels(groups, data, groupBy)\n    subGroups = useLevels(subGroups, data, subGroupBy)\n    const getGroup = usePropertyAccessor(groupBy ?? 'group')\n    const getSubGroup = usePropertyAccessor(subGroupBy ?? 'subGroup')\n    const getTooltipLabel = usePropertyAccessor(tooltipLabel)\n    const getValue = usePropertyAccessor(value)\n    const formatValue = useValueFormatter(valueFormat)\n\n    const theme = useTheme()\n    const getColor = useOrdinalColorScale(colors, colorBy)\n    // trigger color fetch for all groups and subgroups\n    if (groups && colorBy === 'group') {\n        groups.map(group => getColor({ group } as BoxPlotSummary))\n    }\n    if (subGroups && colorBy === 'subGroup') {\n        subGroups.map(subGroup => getColor({ subGroup } as BoxPlotSummary))\n    }\n\n    const getBorderColor = useInheritedColor<ComputedBoxPlotSummary>(borderColor, theme)\n    const getMedianColor = useInheritedColor<ComputedBoxPlotSummary>(medianColor, theme)\n    const getWhiskerColor = useInheritedColor<ComputedBoxPlotSummary>(whiskerColor, theme)\n\n    // stratify long array with individual data points into arrays that will\n    // feed boxplot representations\n    const dataStratified = stratifyData({\n        data,\n        groups,\n        getGroup,\n        subGroups,\n        getSubGroup,\n    })\n\n    const nSubGroups = Math.max(1, subGroups ? subGroups.length : 1)\n    const dataSummary = useMemo(\n        () =>\n            dataStratified.map((stratum: RawDatum[], index) =>\n                summarizeDistribution({\n                    data: stratum,\n                    getValue,\n                    groups,\n                    subGroups,\n                    groupIndex: Math.floor(index / nSubGroups),\n                    subGroupIndex: index % nSubGroups,\n                    quantiles,\n                })\n            ),\n        [dataStratified, getValue, groups, subGroups, nSubGroups, quantiles]\n    )\n\n    const {\n        boxPlots: unStyledBoxPlots,\n        xScale,\n        yScale,\n    } = useMemo(\n        () =>\n            generateBoxPlots({\n                layout,\n                data: dataSummary.filter(stratum => stratum.n > 0),\n                groups,\n                subGroups,\n                formatValue,\n                minValue,\n                maxValue,\n                width,\n                height,\n                padding,\n                innerPadding,\n                valueScale,\n                indexScale,\n                getTooltipLabel,\n            }),\n        [\n            layout,\n            dataSummary,\n            groups,\n            subGroups,\n            formatValue,\n            minValue,\n            maxValue,\n            width,\n            height,\n            padding,\n            innerPadding,\n            valueScale,\n            indexScale,\n            getTooltipLabel,\n        ]\n    )\n\n    const [activeItem, setActiveItem] = useState<ComputedBoxPlotSummary | null>(null)\n    const activeKeys = useMemo(() => {\n        if (!activeItem) return []\n        const activeGroup = activeItem.group\n        const activeSubGroup = activeItem.subGroup\n        return unStyledBoxPlots\n            .filter(boxPlot => activeGroup === boxPlot.group || activeSubGroup === boxPlot.subGroup)\n            .map(boxPlot => boxPlot.key)\n    }, [unStyledBoxPlots, activeItem])\n\n    const boxPlots: ComputedBoxPlotSummary[] = useMemo(\n        () =>\n            unStyledBoxPlots.map(boxPlot => {\n                let computedOpacity = activeKeys.includes(boxPlot.key)\n                    ? activeOpacity\n                    : inactiveOpacity\n                if (!activeItem) {\n                    computedOpacity = opacity\n                }\n                return {\n                    ...boxPlot,\n                    color: getColor(boxPlot.data),\n                    opacity: computedOpacity,\n                }\n            }),\n        [\n            unStyledBoxPlots,\n            activeItem,\n            activeKeys,\n            opacity,\n            activeOpacity,\n            inactiveOpacity,\n            getColor,\n        ]\n    )\n\n    const legendsData: [LegendProps, LegendData[]][] = useMemo(\n        () =>\n            legends.map(legend => {\n                const data = getLegendData({\n                    boxPlots,\n                    dataFrom: colorBy,\n                    legendLabel,\n                })\n                return [legend, data]\n            }),\n        [legends, boxPlots, colorBy, legendLabel]\n    )\n\n    return {\n        boxPlots,\n        xScale,\n        yScale,\n        getTooltipLabel,\n        formatValue,\n        getColor,\n        getBorderColor,\n        getMedianColor,\n        getWhiskerColor,\n        legendsData,\n        activeItem,\n        setActiveItem,\n    }\n}\n\nexport const useBoxPlotTransition = ({\n    boxPlots,\n    getBorderColor,\n    getMedianColor,\n    getWhiskerColor,\n    animate,\n    springConfig,\n}: {\n    boxPlots: ComputedBoxPlotSummary[]\n    getBorderColor: (d: ComputedBoxPlotSummary) => string\n    getMedianColor: (d: ComputedBoxPlotSummary) => string\n    getWhiskerColor: (d: ComputedBoxPlotSummary) => string\n    animate: boolean\n    springConfig: SpringConfig\n}) => {\n    const getTransitionProps = (boxPlot: ComputedBoxPlotSummary) => ({\n        borderColor: getBorderColor(boxPlot) as string,\n        medianColor: getMedianColor(boxPlot) as string,\n        whiskerColor: getWhiskerColor(boxPlot) as string,\n        color: boxPlot.color,\n        opacity: boxPlot.opacity,\n        valueInterval: Math.abs(boxPlot.coordinates.values[3] - boxPlot.coordinates.values[1]),\n        valueDistance0: boxPlot.coordinates.values[0] - boxPlot.coordinates.values[2],\n        valueDistance1: boxPlot.coordinates.values[1] - boxPlot.coordinates.values[2],\n        valueDistance3: boxPlot.coordinates.values[3] - boxPlot.coordinates.values[2],\n        valueDistance4: boxPlot.coordinates.values[4] - boxPlot.coordinates.values[2],\n        // translate to the midpoint of the median line\n        transform:\n            boxPlot.layout === 'vertical'\n                ? `translate(${boxPlot.x + boxPlot.width / 2}, ${boxPlot.coordinates.values[2]})`\n                : `translate(${boxPlot.coordinates.values[2]}, ${\n                      boxPlot.y + boxPlot.height / 2\n                  }) rotate(-90)`,\n    })\n\n    return useTransition<ComputedBoxPlotSummary, BoxPlotItemProps<BoxPlotDatum>['animatedProps']>(\n        boxPlots,\n        {\n            keys: boxPlot => boxPlot.key,\n            initial: animate ? undefined : null, // required for ssr\n            from: boxPlot => ({\n                ...getTransitionProps(boxPlot),\n                valueInterval: 0,\n                valueDistance0: 0,\n                valueDistance1: 0,\n                valueDistance3: 0,\n                valueDistance4: 0,\n            }),\n            enter: boxPlot => ({ ...getTransitionProps(boxPlot) }),\n            update: boxPlot => ({ ...getTransitionProps(boxPlot) }),\n            leave: boxPlot => ({\n                ...getTransitionProps(boxPlot),\n                valueInterval: 0,\n                valueDistance0: 0,\n                valueDistance1: 0,\n                valueDistance3: 0,\n                valueDistance4: 0,\n            }),\n            config: springConfig,\n            immediate: !animate,\n        }\n    )\n}\n","import { BoxPlotDatum, BoxPlotCommonProps, ComputedBoxPlotSummary, LegendData } from '../types'\nimport { getPropertyAccessor } from '@nivo/core'\nimport uniqBy from 'lodash/uniqBy'\nimport sortBy from 'lodash/sortBy'\n\nexport const getLegendData = <RawDatum extends BoxPlotDatum>({\n    boxPlots,\n    dataFrom,\n    legendLabel,\n}: {\n    boxPlots: ComputedBoxPlotSummary[]\n    dataFrom: BoxPlotCommonProps<RawDatum>['colorBy']\n    legendLabel: BoxPlotCommonProps<RawDatum>['legendLabel']\n}) => {\n    const getLegendLabel = getPropertyAccessor(legendLabel ?? dataFrom)\n    const byGroup = dataFrom === 'group'\n    const legendData = boxPlots.map(\n        boxPlot =>\n            // id & label are redundant below, but needed for ts in @nivo/legends\n            ({\n                id: byGroup ? boxPlot.data.groupIndex : boxPlot.data.subGroupIndex,\n                label: getLegendLabel(boxPlot?.data),\n                color: boxPlot?.color,\n            } as LegendData)\n    )\n    // reduce to unique labels, then sort by id/index\n    // ensures correct ordering of legends even when certain group-subGroup combos are missing\n    return sortBy(\n        uniqBy(legendData, ({ label }) => label),\n        ({ id }) => id\n    )\n}\n","import { Fragment, ReactNode, createElement, useMemo } from 'react'\nimport { Axes, Grid } from '@nivo/axes'\nimport {\n    CartesianMarkers,\n    Container,\n    SvgWrapper,\n    // @ts-ignore\n    bindDefs,\n    useDimensions,\n    useMotionConfig,\n} from '@nivo/core'\nimport { BoxPlotAnnotations } from './BoxPlotAnnotations'\nimport { BoxPlotLegends } from './BoxPlotLegends'\nimport {\n    BoxPlotCustomLayerProps,\n    BoxPlotDatum,\n    BoxPlotLayer,\n    BoxPlotLayerId,\n    BoxPlotSvgProps,\n} from './types'\nimport { svgDefaultProps } from './props'\nimport { useBoxPlot, useBoxPlotTransition } from './hooks'\n\ntype InnerBoxPlotProps<RawDatum extends BoxPlotDatum> = Omit<\n    BoxPlotSvgProps<RawDatum>,\n    'animate' | 'motionConfig' | 'renderWrapper' | 'theme'\n>\n\nconst InnerBoxPlot = <RawDatum extends BoxPlotDatum>({\n    data,\n    value = svgDefaultProps.value,\n    groupBy = svgDefaultProps.groupBy,\n    groups = svgDefaultProps.groups,\n    subGroupBy = svgDefaultProps.subGroupBy,\n    subGroups = svgDefaultProps.subGroups,\n    quantiles = svgDefaultProps.quantiles,\n\n    margin: partialMargin,\n    width,\n    height,\n\n    layout = svgDefaultProps.layout,\n    minValue = svgDefaultProps.minValue,\n    maxValue = svgDefaultProps.maxValue,\n\n    valueScale = svgDefaultProps.valueScale,\n    indexScale = svgDefaultProps.indexScale,\n\n    padding = svgDefaultProps.padding,\n    innerPadding = svgDefaultProps.innerPadding,\n\n    opacity = svgDefaultProps.opacity,\n    activeOpacity = svgDefaultProps.activeOpacity,\n    inactiveOpacity = svgDefaultProps.inactiveOpacity,\n\n    axisTop,\n    axisRight,\n    axisBottom = svgDefaultProps.axisBottom,\n    axisLeft = svgDefaultProps.axisLeft,\n    enableGridX = svgDefaultProps.enableGridX,\n    enableGridY = svgDefaultProps.enableGridY,\n    gridXValues,\n    gridYValues,\n\n    layers = svgDefaultProps.layers as BoxPlotLayer<RawDatum>[],\n    boxPlotComponent = svgDefaultProps.boxPlotComponent,\n\n    colorBy = svgDefaultProps.colorBy,\n    colors = svgDefaultProps.colors,\n    defs = svgDefaultProps.defs,\n    fill,\n    borderRadius = svgDefaultProps.borderRadius,\n    borderWidth = svgDefaultProps.borderWidth,\n    borderColor = svgDefaultProps.borderColor,\n    medianWidth = svgDefaultProps.medianWidth,\n    medianColor = svgDefaultProps.medianColor,\n    whiskerWidth = svgDefaultProps.whiskerWidth,\n    whiskerColor = svgDefaultProps.whiskerColor,\n    whiskerEndSize = svgDefaultProps.whiskerEndSize,\n\n    markers = svgDefaultProps.markers,\n\n    legendLabel,\n    tooltipLabel = svgDefaultProps.tooltipLabel,\n\n    valueFormat,\n\n    isInteractive = svgDefaultProps.isInteractive,\n    tooltip = svgDefaultProps.tooltip,\n    onClick,\n    onMouseEnter,\n    onMouseLeave,\n\n    annotations = svgDefaultProps.annotations,\n    legends = svgDefaultProps.legends,\n\n    role = svgDefaultProps.role,\n    ariaLabel,\n    ariaLabelledBy,\n    ariaDescribedBy,\n    isFocusable = svgDefaultProps.isFocusable,\n    boxPlotAriaLabel,\n    boxPlotAriaLabelledBy,\n    boxPlotAriaDescribedBy,\n}: InnerBoxPlotProps<RawDatum>) => {\n    const { animate, config: springConfig } = useMotionConfig()\n    const { outerWidth, outerHeight, margin, innerWidth, innerHeight } = useDimensions(\n        width,\n        height,\n        partialMargin\n    )\n\n    const {\n        boxPlots,\n        xScale,\n        yScale,\n        getTooltipLabel,\n        getBorderColor,\n        getMedianColor,\n        getWhiskerColor,\n        legendsData,\n        activeItem,\n        setActiveItem,\n    } = useBoxPlot<RawDatum>({\n        data,\n        value,\n        groupBy,\n        groups,\n        subGroupBy,\n        subGroups,\n        quantiles,\n        width: innerWidth,\n        height: innerHeight,\n        layout,\n        minValue,\n        maxValue,\n        valueScale,\n        indexScale,\n        padding,\n        innerPadding,\n        colorBy,\n        colors,\n        opacity,\n        activeOpacity,\n        inactiveOpacity,\n        borderColor,\n        medianColor,\n        whiskerColor,\n        legendLabel,\n        tooltipLabel,\n        valueFormat,\n        legends,\n    })\n\n    const transition = useBoxPlotTransition({\n        boxPlots,\n        getBorderColor,\n        getMedianColor,\n        getWhiskerColor,\n        animate,\n        springConfig,\n    })\n\n    const commonProps = useMemo(\n        () => ({\n            borderRadius,\n            borderWidth,\n            medianWidth,\n            whiskerWidth,\n            whiskerEndSize,\n            padding,\n            innerPadding,\n            isInteractive,\n            onClick,\n            onMouseEnter,\n            onMouseLeave,\n            getTooltipLabel,\n            tooltip,\n            isFocusable,\n            ariaLabel: boxPlotAriaLabel,\n            ariaLabelledBy: boxPlotAriaLabelledBy,\n            ariaDescribedBy: boxPlotAriaDescribedBy,\n            activeItem,\n            setActiveItem,\n        }),\n        [\n            borderRadius,\n            borderWidth,\n            medianWidth,\n            whiskerWidth,\n            whiskerEndSize,\n            padding,\n            innerPadding,\n            isInteractive,\n            onClick,\n            onMouseEnter,\n            onMouseLeave,\n            tooltip,\n            getTooltipLabel,\n            isFocusable,\n            boxPlotAriaLabel,\n            boxPlotAriaLabelledBy,\n            boxPlotAriaDescribedBy,\n            activeItem,\n            setActiveItem,\n        ]\n    )\n\n    const boundDefs = bindDefs(defs, boxPlots, fill, {\n        dataKey: 'data',\n        targetKey: 'fill',\n    })\n\n    const layerById: Record<BoxPlotLayerId, ReactNode> = {\n        annotations: null,\n        axes: null,\n        boxPlots: null,\n        grid: null,\n        legends: null,\n        markers: null,\n    }\n\n    if (layers.includes('annotations')) {\n        layerById.annotations = (\n            <BoxPlotAnnotations key=\"annotations\" boxPlots={boxPlots} annotations={annotations} />\n        )\n    }\n\n    if (layers.includes('axes')) {\n        layerById.axes = (\n            <Axes\n                key=\"axes\"\n                xScale={xScale}\n                yScale={yScale}\n                width={innerWidth}\n                height={innerHeight}\n                top={axisTop}\n                right={axisRight}\n                bottom={axisBottom}\n                left={axisLeft}\n            />\n        )\n    }\n\n    if (layers.includes('boxPlots')) {\n        layerById.boxPlots = (\n            <Fragment key=\"boxPlots\">\n                {transition((animatedProps, boxPlot) =>\n                    createElement(boxPlotComponent, {\n                        ...commonProps,\n                        boxPlot,\n                        layout,\n                        animatedProps,\n                    })\n                )}\n            </Fragment>\n        )\n    }\n\n    if (layers.includes('grid')) {\n        layerById.grid = (\n            <Grid\n                key=\"grid\"\n                width={innerWidth}\n                height={innerHeight}\n                xScale={enableGridX ? xScale : null}\n                yScale={enableGridY ? yScale : null}\n                xValues={gridXValues}\n                yValues={gridYValues}\n            />\n        )\n    }\n\n    if (layers.includes('legends')) {\n        layerById.legends = (\n            <BoxPlotLegends\n                key=\"legends\"\n                width={innerWidth}\n                height={innerHeight}\n                legends={legendsData}\n            />\n        )\n    }\n\n    if (layers.includes('markers')) {\n        layerById.markers = (\n            <CartesianMarkers<number | string, number>\n                key=\"markers\"\n                markers={markers}\n                width={innerWidth}\n                height={innerHeight}\n                xScale={xScale as (v: number | string) => number}\n                yScale={yScale as (v: number) => number}\n            />\n        )\n    }\n\n    const layerContext: BoxPlotCustomLayerProps<RawDatum> = useMemo(\n        () => ({\n            ...commonProps,\n            layout,\n            margin,\n            width,\n            height,\n            innerWidth,\n            innerHeight,\n            padding,\n            innerPadding,\n            boxPlots,\n            onClick,\n            onMouseEnter,\n            onMouseLeave,\n            tooltip,\n            getTooltipLabel,\n            xScale,\n            yScale,\n        }),\n        [\n            commonProps,\n            layout,\n            margin,\n            width,\n            height,\n            innerWidth,\n            innerHeight,\n            padding,\n            innerPadding,\n            boxPlots,\n            onClick,\n            onMouseEnter,\n            onMouseLeave,\n            tooltip,\n            getTooltipLabel,\n            xScale,\n            yScale,\n        ]\n    )\n\n    return (\n        <SvgWrapper\n            width={outerWidth}\n            height={outerHeight}\n            margin={margin}\n            defs={boundDefs}\n            role={role}\n            ariaLabel={ariaLabel}\n            ariaLabelledBy={ariaLabelledBy}\n            ariaDescribedBy={ariaDescribedBy}\n            isFocusable={isFocusable}\n        >\n            {layers.map((layer, i) => {\n                if (typeof layer === 'function') {\n                    return <Fragment key={i}>{createElement(layer, layerContext)}</Fragment>\n                }\n                return layerById?.[layer] ?? null\n            })}\n        </SvgWrapper>\n    )\n}\n\nexport const BoxPlot = <RawDatum extends BoxPlotDatum>({\n    isInteractive = svgDefaultProps.isInteractive,\n    animate = svgDefaultProps.animate,\n    motionConfig = svgDefaultProps.motionConfig,\n    theme,\n    renderWrapper,\n    ...otherProps\n}: BoxPlotSvgProps<RawDatum>) => (\n    <Container\n        {...{\n            animate,\n            isInteractive,\n            motionConfig,\n            renderWrapper,\n            theme,\n        }}\n    >\n        <InnerBoxPlot<RawDatum> isInteractive={isInteractive} {...otherProps} />\n    </Container>\n)\n","import { BoxPlot } from './BoxPlot'\nimport { BoxPlotDatum, BoxPlotSvgProps } from './types'\nimport { ResponsiveWrapper } from '@nivo/core'\n\nexport const ResponsiveBoxPlot = <RawDatum extends BoxPlotDatum>(\n    props: Omit<BoxPlotSvgProps<RawDatum>, 'height' | 'width'>\n) => (\n    <ResponsiveWrapper>\n        {({ width, height }) => <BoxPlot<RawDatum> width={width} height={height} {...props} />}\n    </ResponsiveWrapper>\n)\n"],"names":["getPosition","boxPlot","x","width","y","height","getDimensions","_ref","size","Math","max","BoxPlotAnnotations","_ref2","boxPlots","annotations","boundAnnotations","useAnnotations","data","_jsx","_Fragment","children","map","annotation","i","Annotation","_extends","BoxPlotLegends","legends","_legend$data","legend","BoxLegendSvg","containerWidth","containerHeight","BoxPlotItemWhisker","distStart","distEnd","whiskerEndSize","whiskerColor","whiskerWidth","_jsxs","animated","line","x1","x2","y1","y2","strokeWidth","stroke","BoxPlotItem","_boxPlot$fill","layout","_ref2$animatedProps","animatedProps","borderColor","medianColor","color","opacity","transform","valueInterval","valueDistance0","valueDistance1","valueDistance3","valueDistance4","borderRadius","borderWidth","medianWidth","isInteractive","onClick","onMouseEnter","onMouseLeave","setActiveItem","tooltip","isFocusable","ariaLabel","ariaLabelledBy","ariaDescribedBy","_useTooltip","useTooltip","showTooltipFromEvent","hideTooltip","vertical","bandwidth","renderTooltip","useMemo","createElement","handleClick","useCallback","event","handleTooltip","handleMouseEnter","handleMouseLeave","handleBlur","g","key","undefined","onMouseMove","onBlur","focusable","tabIndex","rect","rx","ry","fill","defaultTranslation","n","mean","min","Summary","Quantiles","BoxPlotSummaryTooltip","memo","label","formatted","_ref$enableChip","enableChip","theme","useTheme","translation","hasTranslation","quantiles","q","values","style","container","basic","Chip","chip","display","marginTop","marginRight","extrema","defaultProps","value","groupBy","groups","subGroupBy","subGroups","minValue","maxValue","valueScale","type","indexScale","round","padding","innerPadding","activeOpacity","inactiveOpacity","axisBottom","axisLeft","enableGridX","enableGridY","valueFormat","toPrecision","colorBy","colors","scheme","from","modifiers","tooltipLabel","datum","subGroup","group","markers","svgDefaultProps","layers","boxPlotComponent","defs","animate","motionConfig","role","generateBoxPlots","formatValue","valueScaleConfig","indexScaleConfig","getTooltipLabel","_ref3","axis","computeScale","all","getIndexScale","valueScaleSpec","flat","reduce","acc","Infinity","_ref4","xScale","yScale","nSubGroups","length","_ref$innerPadding","Array","_indexScale","_valueScale","_valueScale2","groupIndex","subGroupIndex","indexCoordinate","coords","v","intervals","_Math$abs","abs","position","String","coordinates","index","_valueScale3","generateComputedBoxPlotSummaries","getMean","summarizeDistribution","getValue","every","k","Number","sort","a","b","quantile","realIndex","intIndex","floor","v1","getQuantile","useLevels","levels","by","getLevel","usePropertyAccessor","result","Set","d","useBoxPlot","_ref$groups","_ref$subGroupBy","_ref$subGroups","_ref$quantiles","_ref$valueScale","_ref$indexScale","_ref$padding","_ref$colorBy","_ref$colors","legendLabel","_ref$valueFormat","_ref$legends","getGroup","getSubGroup","useValueFormatter","getColor","useOrdinalColorScale","getBorderColor","useInheritedColor","getMedianColor","getWhiskerColor","dataStratified","groupsMap","subGroupsMap","sg","nGroups","forEach","_subGroupsMap$getSubG","push","stratifyData","dataSummary","stratum","_useMemo","filter","unStyledBoxPlots","_useState","useState","activeItem","activeKeys","activeGroup","activeSubGroup","computedOpacity","includes","legendsData","dataFrom","getLegendLabel","getPropertyAccessor","byGroup","legendData","id","sortBy","uniqBy","getLegendData","InnerBoxPlot","_ref$value","_ref$groupBy","partialMargin","margin","_ref$layout","_ref$minValue","_ref$maxValue","_ref$opacity","_ref$activeOpacity","_ref$inactiveOpacity","axisTop","axisRight","_ref$axisBottom","_ref$axisLeft","_ref$enableGridX","_ref$enableGridY","gridXValues","gridYValues","_ref$layers","_ref$boxPlotComponent","_ref$defs","_ref$borderRadius","_ref$borderWidth","_ref$borderColor","_ref$medianWidth","_ref$medianColor","_ref$whiskerWidth","_ref$whiskerColor","_ref$whiskerEndSize","_ref$markers","_ref$tooltipLabel","_ref$isInteractive","_ref$tooltip","_ref$annotations","_ref$role","_ref$isFocusable","boxPlotAriaLabel","boxPlotAriaLabelledBy","boxPlotAriaDescribedBy","_useMotionConfig","useMotionConfig","springConfig","config","_useDimensions","useDimensions","outerWidth","outerHeight","innerWidth","innerHeight","_useBoxPlot","transition","getTransitionProps","useTransition","keys","initial","enter","update","leave","immediate","useBoxPlotTransition","commonProps","boundDefs","bindDefs","dataKey","targetKey","layerById","axes","grid","Axes","top","right","bottom","left","Fragment","Grid","xValues","yValues","CartesianMarkers","layerContext","SvgWrapper","layer","_layerById$layer","BoxPlot","_ref2$isInteractive","_ref2$animate","_ref2$motionConfig","renderWrapper","otherProps","_objectWithoutPropertiesLoose","_excluded","Container","ResponsiveBoxPlot","props","ResponsiveWrapper"],"mappings":"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"}