"use strict";var e=require("react"),t=require("@nivo/core"),o=require("lodash/omit"),n=require("lodash/cloneDeep"),i=require("lodash/startCase"),a=require("d3-hierarchy"),r=require("@nivo/colors"),l=require("@nivo/tooltip"),d=require("@react-spring/web"),s=require("react/jsx-runtime");function u(){return u=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var o=arguments[t];for(var n in o)Object.prototype.hasOwnProperty.call(o,n)&&(e[n]=o[n])}return e},u.apply(this,arguments)}function b(e,t){if(null==e)return{};var o,n,i={},a=Object.keys(e);for(n=0;n<a.length;n++)o=a[n],t.indexOf(o)>=0||(i[o]=e[o]);return i}var p=function(e,t){return d.to([e,t],(function(e,t){return"translate("+e+","+t+")"}))},c=function(e,t){return d.to([e,t],(function(e,t){return"translate("+e+"px, "+t+"px)"}))},v=function(e,t,o){return d.to([e,t,o],(function(e,t,o){return"translate("+e+","+t+") rotate("+o+")"}))},h=function(e,t,o){return d.to([e,t,o],(function(e,t,o){return"translate("+e+"px,"+t+"px) rotate("+o+"deg)"}))},f=function(e,t,o){return d.to([e,t,o],(function(e,t,o){return"translate("+(e-(0===o?0:5))+"px,"+(t-(0===o?5:0))+"px) rotate("+o+"deg)"}))},m=e.memo((function(e){var o=e.node,n=e.animatedProps,i=e.borderWidth,a=e.enableLabel,r=e.enableParentLabel,l=e.labelSkipSize,b=t.useTheme(),c=a&&o.isLeaf&&(0===l||Math.min(o.width,o.height)>l),h=r&&o.isParent;return s.jsxs(d.animated.g,{transform:p(n.x,n.y),children:[s.jsx(d.animated.rect,{"data-testid":"node."+o.id,width:d.to(n.width,(function(e){return Math.max(e,0)})),height:d.to(n.height,(function(e){return Math.max(e,0)})),fill:o.fill?o.fill:n.color,strokeWidth:i,stroke:o.borderColor,fillOpacity:o.opacity,onMouseEnter:o.onMouseEnter,onMouseMove:o.onMouseMove,onMouseLeave:o.onMouseLeave,onClick:o.onClick}),c&&s.jsx(d.animated.text,{"data-testid":"label."+o.id,textAnchor:"middle",dominantBaseline:"central",style:u({},b.labels.text,{fill:o.labelTextColor,pointerEvents:"none"}),fillOpacity:n.labelOpacity,transform:v(n.labelX,n.labelY,n.labelRotation),children:o.label}),h&&s.jsx(d.animated.text,{"data-testid":"parentLabel."+o.id,dominantBaseline:"central",style:u({},b.labels.text,{fill:o.parentLabelTextColor,pointerEvents:"none"}),fillOpacity:n.parentLabelOpacity,transform:v(n.parentLabelX,n.parentLabelY,n.parentLabelRotation),children:o.parentLabel})]})})),L=e.memo((function(e){var t=e.node;return s.jsx(l.BasicTooltip,{id:t.id,value:t.formattedValue,enableChip:!0,color:t.color})})),g=e.memo((function(e){var o=e.node,n=e.animatedProps,i=e.borderWidth,a=e.enableLabel,r=e.enableParentLabel,l=e.labelSkipSize,b=t.useTheme(),p=a&&o.isLeaf&&(0===l||Math.min(o.width,o.height)>l),v=r&&o.isParent;return s.jsxs(d.animated.div,{"data-testid":"node."+o.id,id:o.path.replace(/[^\w]/gi,"-"),style:{boxSizing:"border-box",position:"absolute",top:0,left:0,transform:c(n.x,n.y),width:n.width,height:n.height,borderWidth:i,borderStyle:"solid",borderColor:o.borderColor,overflow:"hidden"},children:[s.jsx(d.animated.div,{style:{boxSizing:"border-box",position:"absolute",top:0,left:0,opacity:o.opacity,width:n.width,height:n.height,background:n.color},onMouseEnter:o.onMouseEnter,onMouseMove:o.onMouseMove,onMouseLeave:o.onMouseLeave,onClick:o.onClick}),p&&s.jsx(d.animated.span,{"data-testid":"label."+o.id,style:u({},b.labels.text,{position:"absolute",display:"flex",top:-5,left:-5,width:10,height:10,justifyContent:"center",alignItems:"center",whiteSpace:"nowrap",color:o.labelTextColor,transformOrigin:"center center",transform:h(n.labelX,n.labelY,n.labelRotation),opacity:n.labelOpacity,pointerEvents:"none"}),children:o.label}),v&&s.jsx(d.animated.span,{"data-testid":"parentLabel."+o.id,style:u({},b.labels.text,{position:"absolute",display:"flex",justifyContent:"flex-start",alignItems:"center",whiteSpace:"nowrap",width:10,height:10,color:o.parentLabelTextColor,transformOrigin:"top left",transform:f(n.parentLabelX,n.parentLabelY,n.parentLabelRotation),opacity:n.parentLabelOpacity,pointerEvents:"none"}),children:o.parentLabel})]})})),y={layers:["nodes"],identity:"id",value:"value",tile:"squarify",leavesOnly:!1,innerPadding:0,outerPadding:0,colors:{scheme:"nivo"},colorBy:"pathComponents.1",nodeOpacity:.33,enableLabel:!0,label:"formattedValue",labelSkipSize:0,labelTextColor:{from:"color",modifiers:[["darker",1]]},orientLabel:!0,enableParentLabel:!0,parentLabel:"id",parentLabelSize:20,parentLabelPosition:"top",parentLabelPadding:6,parentLabelTextColor:{from:"color",modifiers:[["darker",1]]},borderWidth:1,borderColor:{from:"color",modifiers:[["darker",1]]},isInteractive:!0,tooltip:L,role:"img",animate:!0,motionConfig:"gentle"},x=u({},y,{nodeComponent:m,defs:[],fill:[]}),C=u({},y,{nodeComponent:g}),P=u({},y,{pixelRatio:"undefined"!=typeof window&&window.devicePixelRatio||1}),M={binary:a.treemapBinary,dice:a.treemapDice,slice:a.treemapSlice,sliceDice:a.treemapSliceDice,squarify:a.treemapSquarify},w=function(l){var d=l.data,s=l.width,b=l.height,p=l.identity,c=void 0===p?y.identity:p,v=l.value,h=void 0===v?y.value:v,f=l.valueFormat,m=l.leavesOnly,L=void 0===m?y.leavesOnly:m,g=l.tile,x=void 0===g?y.tile:g,C=l.innerPadding,P=void 0===C?y.innerPadding:C,w=l.outerPadding,T=void 0===w?y.outerPadding:w,S=l.label,k=void 0===S?y.label:S,O=l.orientLabel,j=void 0===O?y.orientLabel:O,W=l.enableParentLabel,I=void 0===W?y.enableParentLabel:W,R=l.parentLabel,z=void 0===R?y.parentLabel:R,E=l.parentLabelSize,B=void 0===E?y.parentLabelSize:E,D=l.parentLabelPosition,F=void 0===D?y.parentLabelPosition:D,X=l.parentLabelPadding,Y=void 0===X?y.parentLabelPadding:X,q=l.colors,H=void 0===q?y.colors:q,A=l.colorBy,V=void 0===A?y.colorBy:A,N=l.nodeOpacity,G=void 0===N?y.nodeOpacity:N,J=l.borderColor,K=void 0===J?y.borderColor:J,Q=l.labelTextColor,U=void 0===Q?y.labelTextColor:Q,Z=l.parentLabelTextColor,$=void 0===Z?y.parentLabelTextColor:Z,_=t.usePropertyAccessor(c),ee=t.usePropertyAccessor(h),te=t.useValueFormatter(f),oe=t.usePropertyAccessor(k),ne=t.usePropertyAccessor(z),ie=function(t){var o=t.width,n=t.height,r=t.tile,l=t.innerPadding,d=t.outerPadding,s=t.enableParentLabel,u=t.parentLabelSize,b=t.parentLabelPosition,p=t.leavesOnly;return e.useMemo((function(){var e=a.treemap().size([o,n]).tile(M[r]).round(!0).paddingInner(l).paddingOuter(d);if(s&&!p){var t=u+2*d;e["padding"+i(b)](t)}return e}),[o,n,r,l,d,s,u,b,p])}({width:s,height:b,tile:x,innerPadding:P,outerPadding:T,enableParentLabel:I,parentLabelSize:B,parentLabelPosition:F,leavesOnly:L}),ae=function(t){var o=t.root,n=t.getValue;return e.useMemo((function(){return a.hierarchy(o).sum(n)}),[o,n])}({root:d,getValue:ee}),re=e.useMemo((function(){var e=n(ae);return ie(e),L?e.leaves():e.descendants()}),[ae,ie,L]),le=e.useMemo((function(){return re.map((function(e){var t=function(e,t){var o=e.ancestors().map((function(e){return t(e.data)})).reverse();return{path:o.join("."),pathComponents:o}}(e,_),n=t.path,i=t.pathComponents,a={id:_(e.data),path:n,pathComponents:i,data:o(e.data,"children"),x:e.x0,y:e.y0,width:e.x1-e.x0,height:e.y1-e.y0,value:e.value,formattedValue:te(e.value),treeDepth:e.depth,treeHeight:e.height,isParent:e.height>0,isLeaf:0===e.height,parentLabelX:0,parentLabelY:0,parentLabelRotation:0};return a.labelRotation=j&&a.height>a.width?-90:0,"top"===F&&(a.parentLabelX=T+Y,a.parentLabelY=T+B/2),"right"===F&&(a.parentLabelX=a.width-T-B/2,a.parentLabelY=a.height-T-Y,a.parentLabelRotation=-90),"bottom"===F&&(a.parentLabelX=T+Y,a.parentLabelY=a.height-T-B/2),"left"===F&&(a.parentLabelX=T+B/2,a.parentLabelY=a.height-T-Y,a.parentLabelRotation=-90),a.label=oe(a),a.parentLabel=ne(a),a}))}),[re,_,te,oe,j,ne,B,F,Y,T]),de=t.useTheme(),se=r.useOrdinalColorScale(H,V),ue=r.useInheritedColor(K,de),be=r.useInheritedColor(U,de),pe=r.useInheritedColor($,de),ce=e.useMemo((function(){return le.map((function(e){var t=u({},e,{color:se(e),opacity:G});return t.borderColor=ue(t),t.labelTextColor=be(t),t.parentLabelTextColor=pe(t),t}))}),[le,se,G,ue,be,pe]);return{hierarchy:ae,nodes:ce,layout:ie}},T=function(t,o){var n=o.isInteractive,i=o.onMouseEnter,a=o.onMouseMove,r=o.onMouseLeave,d=o.onClick,s=o.tooltip,b=l.useTooltip(),p=b.showTooltipFromEvent,c=b.hideTooltip,v=e.useCallback((function(t,o){p(e.createElement(s,{node:t}),o,"left")}),[p,s]),h=e.useCallback((function(e,t){v(e,t),null==i||i(e,t)}),[i,v]),f=e.useCallback((function(e,t){v(e,t),null==a||a(e,t)}),[a,v]),m=e.useCallback((function(e,t){c(),null==r||r(e,t)}),[r,c]),L=e.useCallback((function(e,t){null==d||d(e,t)}),[d]);return e.useMemo((function(){return t.map((function(e){return n?u({},e,{onMouseEnter:function(t){return h(e,t)},onMouseMove:function(t){return f(e,t)},onMouseLeave:function(t){return m(e,t)},onClick:function(t){return L(e,t)}}):e}))}),[n,t,h,f,m,L])},S=function(t){var o=t.nodes;return e.useMemo((function(){return{nodes:o}}),[o])},k=function(e){return{x:e.x,y:e.y,width:e.width,height:e.height,color:e.color,labelX:e.width/2,labelY:e.height/2,labelRotation:e.labelRotation,labelOpacity:1,parentLabelX:e.parentLabelX,parentLabelY:e.parentLabelY,parentLabelRotation:e.parentLabelRotation,parentLabelOpacity:1}},O=function(e){return{x:e.x+e.width/2,y:e.y+e.height/2,width:0,height:0,color:e.color,labelX:0,labelY:0,labelRotation:e.labelRotation,labelOpacity:0,parentLabelX:0,parentLabelY:0,parentLabelRotation:e.parentLabelRotation,parentLabelOpacity:0}},j=e.memo((function(o){var n=o.nodes,i=o.nodeComponent,a=o.borderWidth,r=o.enableLabel,l=o.labelSkipSize,u=o.enableParentLabel,b=o.isInteractive,p=o.onMouseEnter,c=o.onMouseMove,v=o.onMouseLeave,h=o.onClick,f=o.tooltip,m=T(n,{isInteractive:b,onMouseEnter:p,onMouseMove:c,onMouseLeave:v,onClick:h,tooltip:f}),L=t.useMotionConfig(),g=L.animate,y=L.config,x=d.useTransition(m,{keys:function(e){return e.path},initial:k,from:O,enter:k,update:k,leave:O,config:y,immediate:!g});return s.jsx(s.Fragment,{children:x((function(t,o){return e.createElement(i,{key:o.path,node:o,animatedProps:t,borderWidth:a,enableLabel:r,labelSkipSize:l,enableParentLabel:u})}))})})),W=["isInteractive","animate","motionConfig","theme","renderWrapper"],I=function(o){var n=o.data,i=o.identity,a=void 0===i?x.identity:i,r=o.value,l=void 0===r?x.value:r,d=o.valueFormat,u=o.tile,b=void 0===u?x.tile:u,p=o.nodeComponent,c=void 0===p?x.nodeComponent:p,v=o.innerPadding,h=void 0===v?x.innerPadding:v,f=o.outerPadding,m=void 0===f?x.outerPadding:f,L=o.leavesOnly,g=void 0===L?x.leavesOnly:L,y=o.width,C=o.height,P=o.margin,M=o.layers,T=void 0===M?x.layers:M,k=o.colors,O=void 0===k?x.colors:k,W=o.colorBy,I=void 0===W?x.colorBy:W,R=o.nodeOpacity,z=void 0===R?x.nodeOpacity:R,E=o.borderWidth,B=void 0===E?x.borderWidth:E,D=o.borderColor,F=void 0===D?x.borderColor:D,X=o.defs,Y=void 0===X?x.defs:X,q=o.fill,H=void 0===q?x.fill:q,A=o.enableLabel,V=void 0===A?x.enableLabel:A,N=o.label,G=void 0===N?x.label:N,J=o.labelTextColor,K=void 0===J?x.labelTextColor:J,Q=o.orientLabel,U=void 0===Q?x.orientLabel:Q,Z=o.labelSkipSize,$=void 0===Z?x.labelSkipSize:Z,_=o.enableParentLabel,ee=void 0===_?x.enableParentLabel:_,te=o.parentLabel,oe=void 0===te?x.parentLabel:te,ne=o.parentLabelSize,ie=void 0===ne?x.parentLabelSize:ne,ae=o.parentLabelPosition,re=void 0===ae?x.parentLabelPosition:ae,le=o.parentLabelPadding,de=void 0===le?x.parentLabelPadding:le,se=o.parentLabelTextColor,ue=void 0===se?x.parentLabelTextColor:se,be=o.isInteractive,pe=void 0===be?x.isInteractive:be,ce=o.onMouseEnter,ve=o.onMouseMove,he=o.onMouseLeave,fe=o.onClick,me=o.tooltip,Le=void 0===me?x.tooltip:me,ge=o.role,ye=o.ariaLabel,xe=o.ariaLabelledBy,Ce=o.ariaDescribedBy,Pe=t.useDimensions(y,C,P),Me=Pe.margin,we=Pe.innerWidth,Te=Pe.innerHeight,Se=Pe.outerWidth,ke=Pe.outerHeight,Oe=w({data:n,identity:a,value:l,valueFormat:d,leavesOnly:g,width:we,height:Te,tile:b,innerPadding:h,outerPadding:m,colors:O,colorBy:I,nodeOpacity:z,borderColor:F,label:G,labelTextColor:K,orientLabel:U,enableParentLabel:ee,parentLabel:oe,parentLabelSize:ie,parentLabelPosition:re,parentLabelPadding:de,parentLabelTextColor:ue}).nodes,je={nodes:null};T.includes("nodes")&&(je.nodes=s.jsx(j,{nodes:Oe,nodeComponent:c,borderWidth:B,enableLabel:V,labelSkipSize:$,enableParentLabel:ee,isInteractive:pe,onMouseEnter:ce,onMouseMove:ve,onMouseLeave:he,onClick:fe,tooltip:Le},"nodes"));var We=S({nodes:Oe}),Ie=t.bindDefs(Y,Oe,H);return s.jsx(t.SvgWrapper,{width:Se,height:ke,margin:Me,defs:Ie,role:ge,ariaLabel:ye,ariaLabelledBy:xe,ariaDescribedBy:Ce,children:T.map((function(t,o){var n;return"function"==typeof t?s.jsx(e.Fragment,{children:e.createElement(t,We)},o):null!=(n=null==je?void 0:je[t])?n:null}))})},R=function(e){var o=e.isInteractive,n=void 0===o?x.isInteractive:o,i=e.animate,a=void 0===i?x.animate:i,r=e.motionConfig,l=void 0===r?x.motionConfig:r,d=e.theme,p=e.renderWrapper,c=b(e,W);return s.jsx(t.Container,{animate:a,isInteractive:n,motionConfig:l,renderWrapper:p,theme:d,children:s.jsx(I,u({isInteractive:n},c))})},z=["isInteractive","animate","motionConfig","theme","renderWrapper"],E=function(o){var n=o.data,i=o.identity,a=void 0===i?C.identity:i,r=o.value,l=void 0===r?C.value:r,d=o.tile,u=void 0===d?C.tile:d,b=o.nodeComponent,p=void 0===b?C.nodeComponent:b,c=o.valueFormat,v=o.innerPadding,h=void 0===v?C.innerPadding:v,f=o.outerPadding,m=void 0===f?C.outerPadding:f,L=o.leavesOnly,g=void 0===L?C.leavesOnly:L,y=o.width,P=o.height,M=o.margin,T=o.layers,k=void 0===T?x.layers:T,O=o.colors,W=void 0===O?C.colors:O,I=o.colorBy,R=void 0===I?C.colorBy:I,z=o.nodeOpacity,E=void 0===z?C.nodeOpacity:z,B=o.borderWidth,D=void 0===B?C.borderWidth:B,F=o.borderColor,X=void 0===F?C.borderColor:F,Y=o.enableLabel,q=void 0===Y?C.enableLabel:Y,H=o.label,A=void 0===H?C.label:H,V=o.labelTextColor,N=void 0===V?C.labelTextColor:V,G=o.orientLabel,J=void 0===G?C.orientLabel:G,K=o.labelSkipSize,Q=void 0===K?C.labelSkipSize:K,U=o.enableParentLabel,Z=void 0===U?C.enableParentLabel:U,$=o.parentLabel,_=void 0===$?C.parentLabel:$,ee=o.parentLabelSize,te=void 0===ee?C.parentLabelSize:ee,oe=o.parentLabelPosition,ne=void 0===oe?C.parentLabelPosition:oe,ie=o.parentLabelPadding,ae=void 0===ie?C.parentLabelPadding:ie,re=o.parentLabelTextColor,le=void 0===re?C.parentLabelTextColor:re,de=o.isInteractive,se=void 0===de?C.isInteractive:de,ue=o.onMouseEnter,be=o.onMouseMove,pe=o.onMouseLeave,ce=o.onClick,ve=o.tooltip,he=void 0===ve?C.tooltip:ve,fe=o.role,me=o.ariaLabel,Le=o.ariaLabelledBy,ge=o.ariaDescribedBy,ye=t.useDimensions(y,P,M),xe=ye.margin,Ce=ye.innerWidth,Pe=ye.innerHeight,Me=ye.outerWidth,we=ye.outerHeight,Te=w({data:n,identity:a,value:l,valueFormat:c,leavesOnly:g,width:Ce,height:Pe,tile:u,innerPadding:h,outerPadding:m,colors:W,colorBy:R,nodeOpacity:E,borderColor:X,label:A,labelTextColor:N,orientLabel:J,enableParentLabel:Z,parentLabel:_,parentLabelSize:te,parentLabelPosition:ne,parentLabelPadding:ae,parentLabelTextColor:le}).nodes,Se={nodes:null};k.includes("nodes")&&(Se.nodes=s.jsx(j,{nodes:Te,nodeComponent:p,borderWidth:D,enableLabel:q,labelSkipSize:Q,enableParentLabel:Z,isInteractive:se,onMouseEnter:ue,onMouseMove:be,onMouseLeave:pe,onClick:ce,tooltip:he},"nodes"));var ke=S({nodes:Te});return s.jsx("div",{role:fe,"aria-label":me,"aria-labelledby":Le,"aria-describedby":ge,style:{position:"relative",width:Me,height:we},children:s.jsx("div",{style:{position:"absolute",top:xe.top,left:xe.left},children:k.map((function(t,o){var n;return"function"==typeof t?s.jsx(e.Fragment,{children:e.createElement(t,ke)},o):null!=(n=null==Se?void 0:Se[t])?n:null}))})})},B=function(e){var o=e.isInteractive,n=void 0===o?C.isInteractive:o,i=e.animate,a=void 0===i?C.animate:i,r=e.motionConfig,l=void 0===r?C.motionConfig:r,d=e.theme,p=e.renderWrapper,c=b(e,z);return s.jsx(t.Container,{animate:a,isInteractive:n,motionConfig:l,renderWrapper:p,theme:d,children:s.jsx(E,u({isInteractive:n},c))})},D=["theme","isInteractive","animate","motionConfig","renderWrapper"],F=function(e,o,n,i){return e.find((function(e){return t.isCursorInRect(e.x+o.left,e.y+o.top,e.width,e.height,n,i)}))},X=function(o){var n=o.data,i=o.identity,a=void 0===i?P.identity:i,r=o.value,d=void 0===r?P.identity:r,u=o.tile,b=void 0===u?P.tile:u,p=o.valueFormat,c=o.innerPadding,v=void 0===c?P.innerPadding:c,h=o.outerPadding,f=void 0===h?P.outerPadding:h,m=o.leavesOnly,L=void 0===m?P.leavesOnly:m,g=o.width,y=o.height,x=o.margin,C=o.colors,M=void 0===C?P.colors:C,T=o.colorBy,S=void 0===T?P.colorBy:T,k=o.nodeOpacity,O=void 0===k?P.nodeOpacity:k,j=o.borderWidth,W=void 0===j?P.borderWidth:j,I=o.borderColor,R=void 0===I?P.borderColor:I,z=o.enableLabel,E=void 0===z?P.enableLabel:z,B=o.label,D=void 0===B?P.label:B,X=o.labelTextColor,Y=void 0===X?P.labelTextColor:X,q=o.orientLabel,H=void 0===q?P.orientLabel:q,A=o.labelSkipSize,V=void 0===A?P.labelSkipSize:A,N=o.isInteractive,G=void 0===N?P.isInteractive:N,J=o.onMouseMove,K=o.onClick,Q=o.tooltip,U=void 0===Q?P.tooltip:Q,Z=o.pixelRatio,$=void 0===Z?P.pixelRatio:Z,_=o.role,ee=o.ariaLabel,te=o.ariaLabelledBy,oe=o.ariaDescribedBy,ne=e.useRef(null),ie=t.useDimensions(g,y,x),ae=ie.margin,re=ie.innerWidth,le=ie.innerHeight,de=ie.outerWidth,se=ie.outerHeight,ue=w({data:n,identity:a,value:d,valueFormat:p,leavesOnly:L,width:re,height:le,tile:b,innerPadding:v,outerPadding:f,colors:M,colorBy:S,nodeOpacity:O,borderColor:R,label:D,labelTextColor:Y,orientLabel:H,enableParentLabel:!1}).nodes,be=t.useTheme();e.useEffect((function(){if(null!==ne.current){var e=ne.current.getContext("2d");null!==e&&(ne.current.width=de*$,ne.current.height=se*$,e.scale($,$),e.fillStyle=be.background,e.fillRect(0,0,de,se),e.translate(ae.left,ae.top),ue.forEach((function(t){e.fillStyle=t.color,e.fillRect(t.x,t.y,t.width,t.height),W>0&&(e.strokeStyle=t.borderColor,e.lineWidth=W,e.strokeRect(t.x,t.y,t.width,t.height))})),E&&(e.textAlign="center",e.textBaseline="middle",e.font=be.labels.text.fontSize+"px "+be.labels.text.fontFamily,ue.forEach((function(o){if(o.isLeaf&&(0===V||Math.min(o.width,o.height)>V)){var n=H&&o.height>o.width;e.save(),e.translate(o.x+o.width/2,o.y+o.height/2),e.rotate(t.degreesToRadians(n?-90:0)),e.fillStyle=o.labelTextColor,e.fillText(""+o.label,0,0),e.restore()}}))))}}),[ne,ue,de,se,re,le,ae,W,E,H,V,be,$]);var pe=l.useTooltip(),ce=pe.showTooltipFromEvent,ve=pe.hideTooltip,he=e.useCallback((function(o){if(null!==ne.current){var n=t.getRelativeCursor(ne.current,o),i=n[0],a=n[1],r=F(ue,ae,i,a);void 0!==r?(ce(e.createElement(U,{node:r}),o,"left"),null==J||J(r,o)):ve()}}),[ne,ue,ae,ce,ve,U,J]),fe=e.useCallback((function(){ve()}),[ve]),me=e.useCallback((function(e){if(null!==ne.current){var o=t.getRelativeCursor(ne.current,e),n=o[0],i=o[1],a=F(ue,ae,n,i);void 0!==a&&(null==K||K(a,e))}}),[ne,ue,ae,K]);return s.jsx("canvas",{ref:ne,width:de*$,height:se*$,style:{width:de,height:se},onMouseEnter:G?he:void 0,onMouseMove:G?he:void 0,onMouseLeave:G?fe:void 0,onClick:G?me:void 0,role:_,"aria-label":ee,"aria-labelledby":te,"aria-describedby":oe})},Y=function(e){var o=e.theme,n=e.isInteractive,i=void 0===n?P.isInteractive:n,a=e.animate,r=void 0===a?P.animate:a,l=e.motionConfig,d=void 0===l?P.motionConfig:l,p=e.renderWrapper,c=b(e,D);return s.jsx(t.Container,{isInteractive:i,animate:r,motionConfig:d,theme:o,renderWrapper:p,children:s.jsx(X,u({isInteractive:i},c))})};exports.ResponsiveTreeMap=function(e){return s.jsx(t.ResponsiveWrapper,{children:function(t){var o=t.width,n=t.height;return s.jsx(R,u({width:o,height:n},e))}})},exports.ResponsiveTreeMapCanvas=function(e){return s.jsx(t.ResponsiveWrapper,{children:function(t){var o=t.width,n=t.height;return s.jsx(Y,u({width:o,height:n},e))}})},exports.ResponsiveTreeMapHtml=function(e){return s.jsx(t.ResponsiveWrapper,{children:function(t){var o=t.width,n=t.height;return s.jsx(B,u({width:o,height:n},e))}})},exports.TreeMap=R,exports.TreeMapCanvas=Y,exports.TreeMapHtml=B,exports.canvasDefaultProps=P,exports.commonDefaultProps=y,exports.htmlDefaultProps=C,exports.htmlLabelTransform=h,exports.htmlNodeTransform=c,exports.htmlParentLabelTransform=f,exports.svgDefaultProps=x,exports.svgLabelTransform=v,exports.svgNodeTransform=p,exports.tileByType=M;
//# sourceMappingURL=nivo-treemap.cjs.js.map
